2023-07-28 00:27:18.073 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-28 00:27:18.775 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 00:27:18.815 +03:30 [DBG] Migrating using database 'Test_db' on server ''.
2023-07-28 00:27:18.823 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:27:18.962 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:18.963 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:18.966 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:27:18.972 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-28 00:27:18.976 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-28 00:27:18.976 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:27:19.013 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:19.017 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-07-28 00:27:19.068 +03:30 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-07-28 00:27:19.069 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:19.070 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:27:19.071 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:27:19.097 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:19.097 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:19.097 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:27:19.097 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-28 00:27:19.097 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-07-28 00:27:19.097 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:27:19.097 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:19.098 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-07-28 00:27:19.098 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2023-07-28 00:27:19.098 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:19.098 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:27:19.110 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 00:27:19.110 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 00:27:19.110 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:27:19.110 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:19.110 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-07-28 00:27:19.113 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-07-28 00:27:19.117 +03:30 [DBG] A data reader was disposed.
2023-07-28 00:27:19.117 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:19.117 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:27:19.125 +03:30 [INF] Applying migration '20230727205713_AddRole'.
2023-07-28 00:27:19.145 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:27:19.145 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:19.146 +03:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-28 00:27:19.149 +03:30 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-07-28 00:27:19.150 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-28 00:27:19.150 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-28 00:27:19.150 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "Role" text NOT NULL DEFAULT '';
2023-07-28 00:27:19.161 +03:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "Role" text NOT NULL DEFAULT '';
2023-07-28 00:27:19.161 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-28 00:27:19.161 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-28 00:27:19.161 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = TIMESTAMPTZ '2023-07-27 20:57:13.307713Z'
WHERE "Id" = 1;
2023-07-28 00:27:19.162 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "CreatedDate" = TIMESTAMPTZ '2023-07-27 20:57:13.307713Z'
WHERE "Id" = 1;
2023-07-28 00:27:19.162 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-28 00:27:19.162 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-28 00:27:19.162 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "HashedPassword" = '$2a$11$QPYrNG52dYOBpQXCpdTXQuKbuijxQtOII7FLZXueJilbB/MIBjQMS', "Role" = 'Admin'
WHERE "Id" = 1;
2023-07-28 00:27:19.163 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "HashedPassword" = '$2a$11$QPYrNG52dYOBpQXCpdTXQuKbuijxQtOII7FLZXueJilbB/MIBjQMS', "Role" = 'Admin'
WHERE "Id" = 1;
2023-07-28 00:27:19.163 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-28 00:27:19.163 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-07-28 00:27:19.163 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230727205713_AddRole', '6.0.20');
2023-07-28 00:27:19.164 +03:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20230727205713_AddRole', '6.0.20');
2023-07-28 00:27:19.164 +03:30 [DBG] Committing transaction.
2023-07-28 00:27:19.167 +03:30 [DBG] Committed transaction.
2023-07-28 00:27:19.167 +03:30 [DBG] Disposing transaction.
2023-07-28 00:27:19.167 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:27:19.168 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:27:19.168 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 00:28:22.575 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-28 00:28:22.618 +03:30 [DBG] Hosting starting
2023-07-28 00:28:22.626 +03:30 [INF] User profile is available. Using 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-28 00:28:22.627 +03:30 [DBG] Reading data from file 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys\key-e6e8aa4a-753d-4975-b87f-f0beb135ff4f.xml'.
2023-07-28 00:28:22.632 +03:30 [DBG] Found key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f}.
2023-07-28 00:28:22.636 +03:30 [DBG] Considering key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} with expiration date 2023-10-15 14:27:24Z as default key.
2023-07-28 00:28:22.637 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 00:28:22.638 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-28 00:28:22.639 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 00:28:22.641 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-28 00:28:22.642 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-28 00:28:22.643 +03:30 [DBG] Using key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} as the default key.
2023-07-28 00:28:22.643 +03:30 [DBG] Key ring with default key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} was loaded during application startup.
2023-07-28 00:28:22.683 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 125DFC3616D0C8C0E4FE0C577311DF2BC2C4E277)
2023-07-28 00:28:22.697 +03:30 [INF] Now listening on: https://localhost:7122
2023-07-28 00:28:22.697 +03:30 [INF] Now listening on: http://localhost:5003
2023-07-28 00:28:22.697 +03:30 [DBG] Loaded hosting startup assembly API Project
2023-07-28 00:28:22.697 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-28 00:28:22.697 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-28 00:28:22.697 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-07-28 00:28:22.697 +03:30 [INF] Hosting environment: Development
2023-07-28 00:28:22.697 +03:30 [INF] Content root path: D:\Programming\GitHub\WebApi-With-ASP\
2023-07-28 00:28:22.697 +03:30 [DBG] Hosting started
2023-07-28 00:28:23.202 +03:30 [DBG] Connection id "0HMSESGRID1I3" accepted.
2023-07-28 00:28:23.203 +03:30 [DBG] Connection id "0HMSESGRID1I4" accepted.
2023-07-28 00:28:23.203 +03:30 [DBG] Connection id "0HMSESGRID1I4" started.
2023-07-28 00:28:23.203 +03:30 [DBG] Connection id "0HMSESGRID1I3" started.
2023-07-28 00:28:23.218 +03:30 [DBG] Connection id "0HMSESGRID1I4" received FIN.
2023-07-28 00:28:23.218 +03:30 [DBG] Connection id "0HMSESGRID1I3" received FIN.
2023-07-28 00:28:23.220 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:28:23.220 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:28:23.229 +03:30 [DBG] Connection id "0HMSESGRID1I4" stopped.
2023-07-28 00:28:23.229 +03:30 [DBG] Connection id "0HMSESGRID1I3" stopped.
2023-07-28 00:28:23.230 +03:30 [DBG] Connection id "0HMSESGRID1I3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:28:23.230 +03:30 [DBG] Connection id "0HMSESGRID1I4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:28:23.266 +03:30 [DBG] Connection id "0HMSESGRID1I5" accepted.
2023-07-28 00:28:23.266 +03:30 [DBG] Connection id "0HMSESGRID1I5" started.
2023-07-28 00:28:23.285 +03:30 [DBG] Connection 0HMSESGRID1I5 established using the following protocol: "Tls13"
2023-07-28 00:28:23.312 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/index.html - -
2023-07-28 00:28:23.325 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-28 00:28:23.337 +03:30 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-28 00:28:23.337 +03:30 [DBG] Request did not match any endpoints
2023-07-28 00:28:23.385 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-28 00:28:23.429 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-28 00:28:23.430 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/index.html - - - 200 - text/html;charset=utf-8 119.3856ms
2023-07-28 00:28:23.440 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - -
2023-07-28 00:28:23.442 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 1.5255ms
2023-07-28 00:28:23.486 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_vs/browserLink - -
2023-07-28 00:28:23.495 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.0005ms
2023-07-28 00:28:23.601 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - -
2023-07-28 00:28:23.601 +03:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-28 00:28:23.601 +03:30 [DBG] Request did not match any endpoints
2023-07-28 00:28:23.685 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 83.9815ms
2023-07-28 00:28:35.731 +03:30 [DBG] Connection id "0HMSESGRID1I6" accepted.
2023-07-28 00:28:35.731 +03:30 [DBG] Connection id "0HMSESGRID1I6" started.
2023-07-28 00:28:35.731 +03:30 [DBG] Connection id "0HMSESGRID1I7" accepted.
2023-07-28 00:28:35.731 +03:30 [DBG] Connection id "0HMSESGRID1I7" started.
2023-07-28 00:28:35.731 +03:30 [DBG] Connection id "0HMSESGRID1I6" received FIN.
2023-07-28 00:28:35.732 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:28:35.732 +03:30 [DBG] Connection id "0HMSESGRID1I6" stopped.
2023-07-28 00:28:35.732 +03:30 [DBG] Connection id "0HMSESGRID1I6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:28:35.734 +03:30 [DBG] Connection 0HMSESGRID1I7 established using the following protocol: "Tls13"
2023-07-28 00:28:35.739 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 00:28:35.745 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 00:28:35.747 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 00:28:35.748 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 00:28:35.749 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 00:28:35.771 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 00:28:35.773 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 00:28:35.792 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 00:28:35.792 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 00:28:35.793 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 00:28:35.793 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 00:28:35.793 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 00:28:35.793 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 00:28:35.793 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 00:28:35.870 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-28 00:28:35.885 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 00:28:35.887 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 00:28:35.888 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 00:28:35.888 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 00:28:35.889 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 00:28:35.892 +03:30 [DBG] Connection id "0HMSESGRID1I7", Request id "0HMSESGRID1I7:00000002": started reading request body.
2023-07-28 00:28:35.892 +03:30 [DBG] Connection id "0HMSESGRID1I7", Request id "0HMSESGRID1I7:00000002": done reading request body.
2023-07-28 00:28:35.958 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 00:28:35.958 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 00:28:35.958 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 00:28:35.964 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 00:28:36.561 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 00:28:36.587 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(x => x.UserName == __userName_0)'
2023-07-28 00:28:36.714 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.HashedPassword (string) Required, 2], [Property: User.Name (string) Required, 3], [Property: User.PhoneNumber (string) Required, 4], [Property: User.Role (string) Required, 5], [Property: User.UserName (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.HashedPassword, u.Name, u.PhoneNumber, u.Role, u.UserName
            FROM Users AS u
            WHERE u.UserName == @__userName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        API_Project.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-28 00:28:36.742 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 00:28:36.765 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2023-07-28 00:28:36.770 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:28:36.905 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:28:36.912 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 00:28:36.968 +03:30 [INF] Executed DbCommand (57ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 00:28:36.981 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 00:28:37.004 +03:30 [DBG] A data reader was disposed.
2023-07-28 00:28:37.007 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:28:37.010 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:28:37.232 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 00:28:37.233 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 00:28:37.233 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 00:28:37.233 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 00:28:37.233 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 00:28:37.233 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 00:28:37.238 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 1441.0787ms
2023-07-28 00:28:37.239 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 00:28:37.239 +03:30 [DBG] Connection id "0HMSESGRID1I7" completed keep alive response.
2023-07-28 00:28:37.241 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 00:28:37.243 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 1503.5861ms
2023-07-28 00:29:07.975 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 00:29:07.975 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 00:29:07.975 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 00:29:07.975 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:07.975 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 00:29:08.021 +03:30 [DBG] Successfully validated the token.
2023-07-28 00:29:08.021 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 00:29:08.022 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:08.024 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 00:29:08.024 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 00:29:08.024 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 00:29:08.024 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 00:29:08.024 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 00:29:08.024 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 00:29:08.024 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:29:08.025 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:29:08.025 +03:30 [INF] Get all products
2023-07-28 00:29:08.029 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 00:29:08.030 +03:30 [DBG] Compiling query expression: 
'DbSet<Product>()'
2023-07-28 00:29:08.033 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Category (string) Required, 1], [Property: Product.CreatedDate (DateTime) Required, 2], [Property: Product.Description (string) Required, 3], [Property: Product.ImageUrl (string) Required, 4], [Property: Product.Name (string) Required, 5], [Property: Product.Price (int) Required, 6], [Property: Product.UpdatedDate (DateTime) Required, 7] }
        SELECT p.Id, p.Category, p.CreatedDate, p.Description, p.ImageUrl, p.Name, p.Price, p.UpdatedDate
        FROM Products AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    API_Project.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-28 00:29:08.034 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 00:29:08.034 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 00:29:08.034 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:29:08.034 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:29:08.034 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:29:08.036 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:29:08.040 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 00:29:08.047 +03:30 [DBG] A data reader was disposed.
2023-07-28 00:29:08.047 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:29:08.047 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:29:08.047 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 00:29:08.047 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 00:29:08.047 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 00:29:08.047 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 00:29:08.047 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 00:29:08.047 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 00:29:08.076 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 51.3884ms
2023-07-28 00:29:08.076 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:08.076 +03:30 [DBG] Connection id "0HMSESGRID1I7" completed keep alive response.
2023-07-28 00:29:08.076 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 00:29:08.076 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 101.5447ms
2023-07-28 00:29:08.076 +03:30 [DBG] Connection id "0HMSESGRID1I7", Request id "0HMSESGRID1I7:00000003": started reading request body.
2023-07-28 00:29:08.076 +03:30 [DBG] Connection id "0HMSESGRID1I7", Request id "0HMSESGRID1I7:00000003": done reading request body.
2023-07-28 00:29:16.751 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-28 00:29:16.796 +03:30 [DBG] Hosting starting
2023-07-28 00:29:16.807 +03:30 [INF] User profile is available. Using 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-28 00:29:16.809 +03:30 [DBG] Reading data from file 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys\key-e6e8aa4a-753d-4975-b87f-f0beb135ff4f.xml'.
2023-07-28 00:29:16.814 +03:30 [DBG] Found key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f}.
2023-07-28 00:29:16.819 +03:30 [DBG] Considering key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} with expiration date 2023-10-15 14:27:24Z as default key.
2023-07-28 00:29:16.819 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 00:29:16.821 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-28 00:29:16.822 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 00:29:16.824 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-28 00:29:16.825 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-28 00:29:16.827 +03:30 [DBG] Using key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} as the default key.
2023-07-28 00:29:16.827 +03:30 [DBG] Key ring with default key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} was loaded during application startup.
2023-07-28 00:29:16.865 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 125DFC3616D0C8C0E4FE0C577311DF2BC2C4E277)
2023-07-28 00:29:16.881 +03:30 [INF] Now listening on: https://localhost:7122
2023-07-28 00:29:16.881 +03:30 [INF] Now listening on: http://localhost:5003
2023-07-28 00:29:16.881 +03:30 [DBG] Loaded hosting startup assembly API Project
2023-07-28 00:29:16.881 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-28 00:29:16.881 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-28 00:29:16.881 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-07-28 00:29:16.881 +03:30 [INF] Hosting environment: Development
2023-07-28 00:29:16.881 +03:30 [INF] Content root path: D:\Programming\GitHub\WebApi-With-ASP\
2023-07-28 00:29:16.881 +03:30 [DBG] Hosting started
2023-07-28 00:29:17.283 +03:30 [DBG] Connection id "0HMSESHBM5ESD" received FIN.
2023-07-28 00:29:17.283 +03:30 [DBG] Connection id "0HMSESHBM5ESE" received FIN.
2023-07-28 00:29:17.287 +03:30 [DBG] Connection id "0HMSESHBM5ESE" accepted.
2023-07-28 00:29:17.287 +03:30 [DBG] Connection id "0HMSESHBM5ESD" accepted.
2023-07-28 00:29:17.288 +03:30 [DBG] Connection id "0HMSESHBM5ESE" started.
2023-07-28 00:29:17.288 +03:30 [DBG] Connection id "0HMSESHBM5ESD" started.
2023-07-28 00:29:17.294 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:29:17.294 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:29:17.303 +03:30 [DBG] Connection id "0HMSESHBM5ESE" stopped.
2023-07-28 00:29:17.303 +03:30 [DBG] Connection id "0HMSESHBM5ESD" stopped.
2023-07-28 00:29:17.305 +03:30 [DBG] Connection id "0HMSESHBM5ESE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:29:17.305 +03:30 [DBG] Connection id "0HMSESHBM5ESD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:29:17.326 +03:30 [DBG] Connection id "0HMSESHBM5ESF" accepted.
2023-07-28 00:29:17.326 +03:30 [DBG] Connection id "0HMSESHBM5ESF" started.
2023-07-28 00:29:17.346 +03:30 [DBG] Connection 0HMSESHBM5ESF established using the following protocol: "Tls13"
2023-07-28 00:29:17.370 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/index.html - -
2023-07-28 00:29:17.382 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-28 00:29:17.394 +03:30 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-28 00:29:17.394 +03:30 [DBG] Request did not match any endpoints
2023-07-28 00:29:17.447 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-28 00:29:17.491 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-28 00:29:17.493 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/index.html - - - 200 - text/html;charset=utf-8 124.4794ms
2023-07-28 00:29:17.500 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_vs/browserLink - -
2023-07-28 00:29:17.500 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - -
2023-07-28 00:29:17.502 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 1.4800ms
2023-07-28 00:29:17.515 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.2723ms
2023-07-28 00:29:17.656 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - -
2023-07-28 00:29:17.656 +03:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-28 00:29:17.656 +03:30 [DBG] Request did not match any endpoints
2023-07-28 00:29:17.738 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 82.4442ms
2023-07-28 00:29:18.306 +03:30 [DBG] Connection id "0HMSESHBM5ESG" accepted.
2023-07-28 00:29:18.306 +03:30 [DBG] Connection id "0HMSESHBM5ESG" started.
2023-07-28 00:29:18.306 +03:30 [DBG] Connection id "0HMSESHBM5ESH" accepted.
2023-07-28 00:29:18.306 +03:30 [DBG] Connection id "0HMSESHBM5ESG" received FIN.
2023-07-28 00:29:18.306 +03:30 [DBG] Connection id "0HMSESHBM5ESH" started.
2023-07-28 00:29:18.306 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:29:18.307 +03:30 [DBG] Connection id "0HMSESHBM5ESG" stopped.
2023-07-28 00:29:18.307 +03:30 [DBG] Connection id "0HMSESHBM5ESG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:29:18.308 +03:30 [DBG] Connection 0HMSESHBM5ESH established using the following protocol: "Tls13"
2023-07-28 00:29:18.311 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 00:29:18.316 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 00:29:18.318 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 00:29:18.319 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:18.319 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 00:29:18.434 +03:30 [DBG] Successfully validated the token.
2023-07-28 00:29:18.435 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 00:29:18.436 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:18.447 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 00:29:18.447 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 00:29:18.447 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 00:29:18.447 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 00:29:18.447 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 00:29:18.447 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 00:29:18.448 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:29:18.509 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-28 00:29:18.523 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:29:18.524 +03:30 [INF] Get all products
2023-07-28 00:29:19.020 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 00:29:19.043 +03:30 [DBG] Compiling query expression: 
'DbSet<Product>()'
2023-07-28 00:29:19.164 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Category (string) Required, 1], [Property: Product.CreatedDate (DateTime) Required, 2], [Property: Product.Description (string) Required, 3], [Property: Product.ImageUrl (string) Required, 4], [Property: Product.Name (string) Required, 5], [Property: Product.Price (int) Required, 6], [Property: Product.UpdatedDate (DateTime) Required, 7] }
        SELECT p.Id, p.Category, p.CreatedDate, p.Description, p.ImageUrl, p.Name, p.Price, p.UpdatedDate
        FROM Products AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    API_Project.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-28 00:29:19.192 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 00:29:19.213 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (19ms).
2023-07-28 00:29:19.216 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:29:19.372 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:29:19.378 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:29:19.420 +03:30 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:29:19.430 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 00:29:19.461 +03:30 [DBG] A data reader was disposed.
2023-07-28 00:29:19.463 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:29:19.465 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:29:19.467 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 00:29:19.468 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 00:29:19.468 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 00:29:19.468 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 00:29:19.468 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 00:29:19.468 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 00:29:19.529 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 1079.0667ms
2023-07-28 00:29:19.530 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:19.530 +03:30 [DBG] Connection id "0HMSESHBM5ESH" completed keep alive response.
2023-07-28 00:29:19.531 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 00:29:19.532 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 1221.0809ms
2023-07-28 00:29:19.532 +03:30 [DBG] Connection id "0HMSESHBM5ESH", Request id "0HMSESHBM5ESH:00000002": started reading request body.
2023-07-28 00:29:19.533 +03:30 [DBG] Connection id "0HMSESHBM5ESH", Request id "0HMSESHBM5ESH:00000002": done reading request body.
2023-07-28 00:29:21.417 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 00:29:21.417 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 00:29:21.417 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 00:29:21.417 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:21.417 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 00:29:21.418 +03:30 [DBG] Successfully validated the token.
2023-07-28 00:29:21.418 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 00:29:21.418 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:21.418 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 00:29:21.418 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 00:29:21.418 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 00:29:21.418 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 00:29:21.418 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 00:29:21.418 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 00:29:21.418 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:29:21.419 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:29:21.419 +03:30 [INF] Get all products
2023-07-28 00:29:21.419 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 00:29:21.420 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 00:29:21.420 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 00:29:21.420 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:29:21.420 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:29:21.420 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:29:21.422 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:29:21.422 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 00:29:21.422 +03:30 [DBG] A data reader was disposed.
2023-07-28 00:29:21.422 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:29:21.422 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:29:21.422 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 00:29:21.422 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 00:29:21.422 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 00:29:21.422 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 00:29:21.422 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 00:29:21.422 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 00:29:21.422 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 3.9481ms
2023-07-28 00:29:21.422 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:21.422 +03:30 [DBG] Connection id "0HMSESHBM5ESH" completed keep alive response.
2023-07-28 00:29:21.422 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 00:29:21.422 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 5.7379ms
2023-07-28 00:29:21.422 +03:30 [DBG] Connection id "0HMSESHBM5ESH", Request id "0HMSESHBM5ESH:00000003": started reading request body.
2023-07-28 00:29:21.422 +03:30 [DBG] Connection id "0HMSESHBM5ESH", Request id "0HMSESHBM5ESH:00000003": done reading request body.
2023-07-28 00:29:32.375 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 00:29:32.375 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 00:29:32.375 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 00:29:32.375 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:32.375 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 00:29:32.379 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 00:29:32.379 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:32.379 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 00:29:32.379 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 00:29:32.379 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 00:29:32.379 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 00:29:32.379 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 00:29:32.379 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 00:29:32.379 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:29:32.380 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:29:32.380 +03:30 [INF] Get all products
2023-07-28 00:29:32.420 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 00:29:32.420 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 00:29:32.421 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 00:29:32.421 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:29:32.421 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:29:32.421 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:29:32.421 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:29:32.421 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 00:29:32.421 +03:30 [DBG] A data reader was disposed.
2023-07-28 00:29:32.421 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:29:32.421 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:29:32.421 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 00:29:32.421 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 00:29:32.421 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 00:29:32.421 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 00:29:32.421 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 00:29:32.421 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 00:29:32.422 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 42.5527ms
2023-07-28 00:29:32.422 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:32.422 +03:30 [DBG] Connection id "0HMSESHBM5ESH" completed keep alive response.
2023-07-28 00:29:32.422 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 00:29:32.422 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 47.1806ms
2023-07-28 00:29:32.422 +03:30 [DBG] Connection id "0HMSESHBM5ESH", Request id "0HMSESHBM5ESH:00000004": started reading request body.
2023-07-28 00:29:32.422 +03:30 [DBG] Connection id "0HMSESHBM5ESH", Request id "0HMSESHBM5ESH:00000004": done reading request body.
2023-07-28 00:29:35.269 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 00:29:35.269 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 00:29:35.269 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 00:29:35.269 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:35.269 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 00:29:35.269 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 00:29:35.269 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:35.269 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 00:29:35.269 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 00:29:35.269 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 00:29:35.269 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 00:29:35.269 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 00:29:35.269 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 00:29:35.269 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:29:35.269 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:29:35.269 +03:30 [INF] Get all products
2023-07-28 00:29:35.269 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 00:29:35.270 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 00:29:35.270 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 00:29:35.270 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:29:35.270 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:29:35.270 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:29:35.270 +03:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:29:35.270 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 00:29:35.270 +03:30 [DBG] A data reader was disposed.
2023-07-28 00:29:35.270 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:29:35.270 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:29:35.270 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 00:29:35.270 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 00:29:35.270 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 00:29:35.270 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 00:29:35.270 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 00:29:35.270 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 00:29:35.270 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 1.3694ms
2023-07-28 00:29:35.270 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:29:35.270 +03:30 [DBG] Connection id "0HMSESHBM5ESH" completed keep alive response.
2023-07-28 00:29:35.270 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 00:29:35.271 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 1.9876ms
2023-07-28 00:29:35.271 +03:30 [DBG] Connection id "0HMSESHBM5ESH", Request id "0HMSESHBM5ESH:00000005": started reading request body.
2023-07-28 00:29:35.271 +03:30 [DBG] Connection id "0HMSESHBM5ESH", Request id "0HMSESHBM5ESH:00000005": done reading request body.
2023-07-28 00:30:02.794 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-28 00:30:02.835 +03:30 [DBG] Hosting starting
2023-07-28 00:30:02.843 +03:30 [INF] User profile is available. Using 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-28 00:30:02.845 +03:30 [DBG] Reading data from file 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys\key-e6e8aa4a-753d-4975-b87f-f0beb135ff4f.xml'.
2023-07-28 00:30:02.850 +03:30 [DBG] Found key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f}.
2023-07-28 00:30:02.855 +03:30 [DBG] Considering key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} with expiration date 2023-10-15 14:27:24Z as default key.
2023-07-28 00:30:02.856 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 00:30:02.857 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-28 00:30:02.858 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 00:30:02.860 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-28 00:30:02.862 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-28 00:30:02.863 +03:30 [DBG] Using key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} as the default key.
2023-07-28 00:30:02.864 +03:30 [DBG] Key ring with default key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} was loaded during application startup.
2023-07-28 00:30:02.907 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 125DFC3616D0C8C0E4FE0C577311DF2BC2C4E277)
2023-07-28 00:30:02.924 +03:30 [INF] Now listening on: https://localhost:7122
2023-07-28 00:30:02.924 +03:30 [INF] Now listening on: http://localhost:5003
2023-07-28 00:30:02.924 +03:30 [DBG] Loaded hosting startup assembly API Project
2023-07-28 00:30:02.924 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-28 00:30:02.924 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-28 00:30:02.924 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-07-28 00:30:02.924 +03:30 [INF] Hosting environment: Development
2023-07-28 00:30:02.924 +03:30 [INF] Content root path: D:\Programming\GitHub\WebApi-With-ASP\
2023-07-28 00:30:02.924 +03:30 [DBG] Hosting started
2023-07-28 00:30:03.418 +03:30 [DBG] Connection id "0HMSESHPE4AVI" accepted.
2023-07-28 00:30:03.418 +03:30 [DBG] Connection id "0HMSESHPE4AVJ" accepted.
2023-07-28 00:30:03.418 +03:30 [DBG] Connection id "0HMSESHPE4AVI" started.
2023-07-28 00:30:03.418 +03:30 [DBG] Connection id "0HMSESHPE4AVJ" started.
2023-07-28 00:30:03.435 +03:30 [DBG] Connection id "0HMSESHPE4AVJ" received FIN.
2023-07-28 00:30:03.435 +03:30 [DBG] Connection id "0HMSESHPE4AVI" received FIN.
2023-07-28 00:30:03.438 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:30:03.438 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:30:03.445 +03:30 [DBG] Connection id "0HMSESHPE4AVK" accepted.
2023-07-28 00:30:03.449 +03:30 [DBG] Connection id "0HMSESHPE4AVK" started.
2023-07-28 00:30:03.451 +03:30 [DBG] Connection id "0HMSESHPE4AVI" stopped.
2023-07-28 00:30:03.451 +03:30 [DBG] Connection id "0HMSESHPE4AVJ" stopped.
2023-07-28 00:30:03.452 +03:30 [DBG] Connection id "0HMSESHPE4AVI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:30:03.452 +03:30 [DBG] Connection id "0HMSESHPE4AVJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:30:03.470 +03:30 [DBG] Connection 0HMSESHPE4AVK established using the following protocol: "Tls13"
2023-07-28 00:30:03.495 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/index.html - -
2023-07-28 00:30:03.508 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-28 00:30:03.521 +03:30 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-28 00:30:03.521 +03:30 [DBG] Request did not match any endpoints
2023-07-28 00:30:03.571 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-28 00:30:03.622 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-28 00:30:03.623 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/index.html - - - 200 - text/html;charset=utf-8 130.0862ms
2023-07-28 00:30:03.632 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - -
2023-07-28 00:30:03.634 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 2.0655ms
2023-07-28 00:30:03.672 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_vs/browserLink - -
2023-07-28 00:30:03.680 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 8.0307ms
2023-07-28 00:30:03.792 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - -
2023-07-28 00:30:03.792 +03:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-28 00:30:03.792 +03:30 [DBG] Request did not match any endpoints
2023-07-28 00:30:03.880 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.9619ms
2023-07-28 00:30:04.086 +03:30 [DBG] Connection id "0HMSESHPE4AVL" accepted.
2023-07-28 00:30:04.087 +03:30 [DBG] Connection id "0HMSESHPE4AVL" started.
2023-07-28 00:30:04.087 +03:30 [DBG] Connection id "0HMSESHPE4AVM" accepted.
2023-07-28 00:30:04.087 +03:30 [DBG] Connection id "0HMSESHPE4AVL" received FIN.
2023-07-28 00:30:04.087 +03:30 [DBG] Connection id "0HMSESHPE4AVM" started.
2023-07-28 00:30:04.087 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:30:04.088 +03:30 [DBG] Connection id "0HMSESHPE4AVL" stopped.
2023-07-28 00:30:04.088 +03:30 [DBG] Connection id "0HMSESHPE4AVL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:30:04.090 +03:30 [DBG] Connection 0HMSESHPE4AVM established using the following protocol: "Tls13"
2023-07-28 00:30:04.093 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 00:30:04.097 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 00:30:04.099 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 00:30:04.099 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:30:04.100 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 00:30:04.118 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 00:30:04.122 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2023-07-28 00:30:04.123 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-28 00:30:04.125 +03:30 [DBG] Connection id "0HMSESHPE4AVM" completed keep alive response.
2023-07-28 00:30:04.125 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 401 0 - 31.7050ms
2023-07-28 00:30:04.125 +03:30 [DBG] Connection id "0HMSESHPE4AVM", Request id "0HMSESHPE4AVM:00000002": started reading request body.
2023-07-28 00:30:04.125 +03:30 [DBG] Connection id "0HMSESHPE4AVM", Request id "0HMSESHPE4AVM:00000002": done reading request body.
2023-07-28 00:30:07.027 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 00:30:07.027 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 00:30:07.028 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 00:30:07.029 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:30:07.029 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 00:30:07.032 +03:30 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2023-07-28 00:30:07.032 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2023-07-28 00:30:07.033 +03:30 [INF] AuthenticationScheme: Bearer was challenged.
2023-07-28 00:30:07.033 +03:30 [DBG] Connection id "0HMSESHPE4AVM" completed keep alive response.
2023-07-28 00:30:07.033 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 401 0 - 6.7680ms
2023-07-28 00:30:07.034 +03:30 [DBG] Connection id "0HMSESHPE4AVM", Request id "0HMSESHPE4AVM:00000003": started reading request body.
2023-07-28 00:30:07.034 +03:30 [DBG] Connection id "0HMSESHPE4AVM", Request id "0HMSESHPE4AVM:00000003": done reading request body.
2023-07-28 00:30:15.992 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 00:30:15.992 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 00:30:15.992 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 00:30:15.992 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:30:15.992 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 00:30:16.099 +03:30 [DBG] Successfully validated the token.
2023-07-28 00:30:16.099 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 00:30:16.100 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2023-07-28 00:30:16.101 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 00:30:16.101 +03:30 [DBG] Connection id "0HMSESHPE4AVM" completed keep alive response.
2023-07-28 00:30:16.101 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 108.9599ms
2023-07-28 00:30:16.101 +03:30 [DBG] Connection id "0HMSESHPE4AVM", Request id "0HMSESHPE4AVM:00000004": started reading request body.
2023-07-28 00:30:16.101 +03:30 [DBG] Connection id "0HMSESHPE4AVM", Request id "0HMSESHPE4AVM:00000004": done reading request body.
2023-07-28 00:30:25.861 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-28 00:30:25.901 +03:30 [DBG] Hosting starting
2023-07-28 00:30:25.909 +03:30 [INF] User profile is available. Using 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-28 00:30:25.911 +03:30 [DBG] Reading data from file 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys\key-e6e8aa4a-753d-4975-b87f-f0beb135ff4f.xml'.
2023-07-28 00:30:25.915 +03:30 [DBG] Found key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f}.
2023-07-28 00:30:25.920 +03:30 [DBG] Considering key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} with expiration date 2023-10-15 14:27:24Z as default key.
2023-07-28 00:30:25.920 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 00:30:25.922 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-28 00:30:25.922 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 00:30:25.924 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-28 00:30:25.925 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-28 00:30:25.927 +03:30 [DBG] Using key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} as the default key.
2023-07-28 00:30:25.927 +03:30 [DBG] Key ring with default key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} was loaded during application startup.
2023-07-28 00:30:25.964 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 125DFC3616D0C8C0E4FE0C577311DF2BC2C4E277)
2023-07-28 00:30:25.978 +03:30 [INF] Now listening on: https://localhost:7122
2023-07-28 00:30:25.978 +03:30 [INF] Now listening on: http://localhost:5003
2023-07-28 00:30:25.978 +03:30 [DBG] Loaded hosting startup assembly API Project
2023-07-28 00:30:25.978 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-28 00:30:25.978 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-28 00:30:25.979 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-07-28 00:30:25.979 +03:30 [INF] Hosting environment: Development
2023-07-28 00:30:25.979 +03:30 [INF] Content root path: D:\Programming\GitHub\WebApi-With-ASP\
2023-07-28 00:30:25.979 +03:30 [DBG] Hosting started
2023-07-28 00:30:26.342 +03:30 [DBG] Connection id "0HMSESI08OO0P" received FIN.
2023-07-28 00:30:26.347 +03:30 [DBG] Connection id "0HMSESI08OO0P" accepted.
2023-07-28 00:30:26.348 +03:30 [DBG] Connection id "0HMSESI08OO0P" started.
2023-07-28 00:30:26.348 +03:30 [DBG] Connection id "0HMSESI08OO0Q" accepted.
2023-07-28 00:30:26.349 +03:30 [DBG] Connection id "0HMSESI08OO0Q" started.
2023-07-28 00:30:26.360 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:30:26.372 +03:30 [DBG] Connection id "0HMSESI08OO0P" stopped.
2023-07-28 00:30:26.374 +03:30 [DBG] Connection id "0HMSESI08OO0P" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:30:26.388 +03:30 [DBG] Connection 0HMSESI08OO0Q established using the following protocol: "Tls13"
2023-07-28 00:30:26.404 +03:30 [DBG] Connection id "0HMSESI08OO0R" accepted.
2023-07-28 00:30:26.404 +03:30 [DBG] Connection id "0HMSESI08OO0S" accepted.
2023-07-28 00:30:26.404 +03:30 [DBG] Connection id "0HMSESI08OO0R" started.
2023-07-28 00:30:26.404 +03:30 [DBG] Connection id "0HMSESI08OO0S" started.
2023-07-28 00:30:26.408 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 00:30:26.412 +03:30 [DBG] Connection id "0HMSESI08OO0S" received FIN.
2023-07-28 00:30:26.412 +03:30 [DBG] Connection id "0HMSESI08OO0R" received FIN.
2023-07-28 00:30:26.412 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:30:26.412 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 00:30:26.413 +03:30 [DBG] Connection id "0HMSESI08OO0S" stopped.
2023-07-28 00:30:26.413 +03:30 [DBG] Connection id "0HMSESI08OO0R" stopped.
2023-07-28 00:30:26.413 +03:30 [DBG] Connection id "0HMSESI08OO0S" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:30:26.413 +03:30 [DBG] Connection id "0HMSESI08OO0R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:30:26.415 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-28 00:30:26.432 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 00:30:26.435 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 00:30:26.435 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:30:26.457 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 00:30:26.572 +03:30 [DBG] Successfully validated the token.
2023-07-28 00:30:26.573 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 00:30:26.578 +03:30 [DBG] Authorization was successful.
2023-07-28 00:30:26.578 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:30:26.593 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 00:30:26.594 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 00:30:26.594 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 00:30:26.594 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 00:30:26.594 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 00:30:26.594 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 00:30:26.594 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:30:26.665 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-28 00:30:26.678 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 00:30:26.679 +03:30 [INF] Get all products
2023-07-28 00:30:26.955 +03:30 [DBG] Connection id "0HMSESI08OO0T" accepted.
2023-07-28 00:30:26.955 +03:30 [DBG] Connection id "0HMSESI08OO0T" started.
2023-07-28 00:30:26.958 +03:30 [DBG] Connection 0HMSESI08OO0T established using the following protocol: "Tls13"
2023-07-28 00:30:26.967 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/index.html - -
2023-07-28 00:30:26.974 +03:30 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-28 00:30:26.974 +03:30 [DBG] Request did not match any endpoints
2023-07-28 00:30:27.010 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-28 00:30:27.071 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-28 00:30:27.072 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/index.html - - - 200 - text/html;charset=utf-8 104.9113ms
2023-07-28 00:30:27.091 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - -
2023-07-28 00:30:27.092 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_vs/browserLink - -
2023-07-28 00:30:27.100 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 8.9002ms
2023-07-28 00:30:27.117 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.8461ms
2023-07-28 00:30:27.272 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 00:30:27.280 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - -
2023-07-28 00:30:27.280 +03:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-28 00:30:27.280 +03:30 [DBG] Request did not match any endpoints
2023-07-28 00:30:27.297 +03:30 [DBG] Compiling query expression: 
'DbSet<Product>()'
2023-07-28 00:30:27.385 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.7809ms
2023-07-28 00:30:27.431 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Category (string) Required, 1], [Property: Product.CreatedDate (DateTime) Required, 2], [Property: Product.Description (string) Required, 3], [Property: Product.ImageUrl (string) Required, 4], [Property: Product.Name (string) Required, 5], [Property: Product.Price (int) Required, 6], [Property: Product.UpdatedDate (DateTime) Required, 7] }
        SELECT p.Id, p.Category, p.CreatedDate, p.Description, p.ImageUrl, p.Name, p.Price, p.UpdatedDate
        FROM Products AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    API_Project.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-28 00:30:27.454 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 00:30:27.472 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2023-07-28 00:30:27.474 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 00:30:27.589 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:30:27.593 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:30:27.632 +03:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 00:30:27.644 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 00:30:27.671 +03:30 [DBG] A data reader was disposed.
2023-07-28 00:30:27.674 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 00:30:27.675 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 00:30:27.678 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 00:30:27.679 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 00:30:27.679 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 00:30:27.679 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 00:30:27.679 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 00:30:27.679 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 00:30:27.738 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 1140.6613ms
2023-07-28 00:30:27.738 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 00:30:27.739 +03:30 [DBG] Connection id "0HMSESI08OO0Q" completed keep alive response.
2023-07-28 00:30:27.741 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 00:30:27.743 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 1337.0687ms
2023-07-28 00:30:27.743 +03:30 [DBG] Connection id "0HMSESI08OO0Q", Request id "0HMSESI08OO0Q:00000002": started reading request body.
2023-07-28 00:30:27.743 +03:30 [DBG] Connection id "0HMSESI08OO0Q", Request id "0HMSESI08OO0Q:00000002": done reading request body.
2023-07-28 00:32:38.115 +03:30 [DBG] Connection id "0HMSESI08OO0Q" disconnecting.
2023-07-28 00:32:38.118 +03:30 [DBG] Connection id "0HMSESI08OO0Q" stopped.
2023-07-28 00:32:38.119 +03:30 [DBG] Connection id "0HMSESI08OO0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 00:32:39.121 +03:30 [DBG] Connection id "0HMSESI08OO0T" is closing.
2023-07-28 00:32:39.121 +03:30 [DBG] Connection id "0HMSESI08OO0T" is closed. The last processed stream ID was 7.
2023-07-28 00:32:39.122 +03:30 [DBG] Connection id "0HMSESI08OO0T" received FIN.
2023-07-28 00:32:39.122 +03:30 [DBG] Connection id "0HMSESI08OO0T" stopped.
2023-07-28 00:32:39.123 +03:30 [DBG] Connection id "0HMSESI08OO0T" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:19:19.801 +03:30 [DBG] Connection id "0HMSESI08OO0U" accepted.
2023-07-28 01:19:19.802 +03:30 [DBG] Connection id "0HMSESI08OO0U" received FIN.
2023-07-28 01:19:19.802 +03:30 [DBG] Connection id "0HMSESI08OO0U" started.
2023-07-28 01:19:19.802 +03:30 [DBG] Connection id "0HMSESI08OO0V" accepted.
2023-07-28 01:19:19.802 +03:30 [DBG] Connection id "0HMSESI08OO0V" started.
2023-07-28 01:19:19.802 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 01:19:19.803 +03:30 [DBG] Connection id "0HMSESI08OO0U" stopped.
2023-07-28 01:19:19.803 +03:30 [DBG] Connection id "0HMSESI08OO0U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:19:19.804 +03:30 [DBG] Connection 0HMSESI08OO0V established using the following protocol: "Tls13"
2023-07-28 01:19:19.804 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:19:19.805 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:19:19.806 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:19:19.806 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:19:19.806 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:19:19.808 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:19:19.808 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:19:19.809 +03:30 [DBG] Authorization was successful.
2023-07-28 01:19:19.809 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:19:19.809 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:19:19.809 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:19:19.809 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:19:19.809 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:19:19.809 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:19:19.809 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:19:19.809 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:19:19.810 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:19:19.810 +03:30 [INF] Get all products
2023-07-28 01:19:19.811 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:19:19.812 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:19:19.812 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:19:19.812 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:19:19.849 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:19:19.850 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:19:19.852 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:19:19.853 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:19:19.853 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:19:19.853 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:19:19.853 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:19:19.853 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:19:19.853 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:19:19.853 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:19:19.853 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:19:19.853 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:19:19.853 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:19:19.854 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 44.6658ms
2023-07-28 01:19:19.854 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:19:19.854 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:19:19.854 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:19:19.854 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 49.5568ms
2023-07-28 01:19:19.854 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000002": started reading request body.
2023-07-28 01:19:19.854 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000002": done reading request body.
2023-07-28 01:19:28.307 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:19:28.307 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:19:28.307 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:19:28.307 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:19:28.307 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:19:28.309 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:19:28.310 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:19:28.324 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:19:28.324 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:19:28.324 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:19:28.324 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:19:28.324 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:19:28.324 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:19:28.325 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:19:28.325 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:19:28.329 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:19:28.332 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:19:28.332 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:19:28.333 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:19:28.337 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000003": started reading request body.
2023-07-28 01:19:28.338 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000003": done reading request body.
2023-07-28 01:19:28.384 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:19:28.385 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:19:28.385 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:19:28.397 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:19:28.474 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:19:28.499 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(x => x.UserName == __userName_0)'
2023-07-28 01:19:28.596 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.HashedPassword (string) Required, 2], [Property: User.Name (string) Required, 3], [Property: User.PhoneNumber (string) Required, 4], [Property: User.Role (string) Required, 5], [Property: User.UserName (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.HashedPassword, u.Name, u.PhoneNumber, u.Role, u.UserName
            FROM Users AS u
            WHERE u.UserName == @__userName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        API_Project.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-28 01:19:28.607 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:19:28.607 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:19:28.609 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:19:28.609 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:19:28.613 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:19:28.632 +03:30 [INF] Executed DbCommand (22ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:19:28.636 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:19:28.651 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:19:28.651 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:19:28.651 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:19:28.885 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:19:28.885 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:19:28.885 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:19:28.885 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:19:28.885 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:19:28.885 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:19:28.885 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 560.8211ms
2023-07-28 01:19:28.885 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:19:28.885 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:19:28.885 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:19:28.886 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 578.7373ms
2023-07-28 01:19:41.658 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:19:41.659 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:19:41.659 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:19:41.659 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:19:41.659 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:19:41.659 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:19:41.659 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:19:41.660 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-28 01:19:41.661 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:19:41.661 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:19:41.661 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 3.1209ms
2023-07-28 01:19:41.661 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000004": started reading request body.
2023-07-28 01:19:41.662 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000004": done reading request body.
2023-07-28 01:20:06.617 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:20:06.617 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:20:06.617 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:20:06.617 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:20:06.617 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:06.617 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:20:06.617 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:20:06.617 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-28 01:20:06.618 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:20:06.618 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:06.618 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 1.0566ms
2023-07-28 01:20:06.618 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000005": started reading request body.
2023-07-28 01:20:06.618 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000005": done reading request body.
2023-07-28 01:20:09.500 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:20:09.500 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:20:09.500 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:20:09.500 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:09.500 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:09.500 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:20:09.500 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:09.500 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:20:09.500 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:20:09.500 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:20:09.500 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:20:09.500 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:20:09.502 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:20:09.502 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:20:09.502 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:20:09.502 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:20:09.502 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:20:09.502 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:20:09.502 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:20:09.502 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000006": started reading request body.
2023-07-28 01:20:09.502 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000006": done reading request body.
2023-07-28 01:20:09.503 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:09.503 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:09.503 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:20:09.503 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:09.503 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:20:09.508 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:20:09.509 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:20:09.509 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:20:09.509 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:20:09.509 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:20:09.509 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:20:09.510 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:20:09.510 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:20:09.510 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:20:09.510 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:20:09.700 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:20:09.700 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:20:09.700 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:20:09.700 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:20:09.700 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:20:09.700 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:20:09.701 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 199.0058ms
2023-07-28 01:20:09.701 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:09.701 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:09.701 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:20:09.701 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 201.1116ms
2023-07-28 01:20:12.299 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:20:12.299 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:20:12.299 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:20:12.299 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:12.299 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:12.299 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:20:12.299 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:12.300 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:20:12.300 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:20:12.300 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:20:12.300 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:20:12.300 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:20:12.300 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:20:12.300 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:20:12.302 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:20:12.302 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:20:12.302 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:20:12.302 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:20:12.302 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:20:12.302 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000007": started reading request body.
2023-07-28 01:20:12.302 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000007": done reading request body.
2023-07-28 01:20:12.302 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:12.302 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:12.302 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:20:12.302 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:12.303 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:20:12.303 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:20:12.303 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:20:12.303 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:20:12.303 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:20:12.303 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:20:12.304 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:20:12.304 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:20:12.304 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:20:12.304 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:20:12.304 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:20:12.496 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:20:12.497 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:20:12.497 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:20:12.497 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:20:12.497 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:20:12.497 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:20:12.497 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 196.9779ms
2023-07-28 01:20:12.497 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:12.497 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:12.497 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:20:12.497 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 197.9174ms
2023-07-28 01:20:14.073 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:20:14.073 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:20:14.073 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:20:14.073 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:14.073 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:14.073 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:20:14.073 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:14.073 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:20:14.074 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:20:14.074 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:20:14.074 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:20:14.074 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:20:14.074 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:20:14.074 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:20:14.074 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:20:14.074 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:20:14.074 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:20:14.074 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:20:14.074 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:20:14.074 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000008": started reading request body.
2023-07-28 01:20:14.074 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000008": done reading request body.
2023-07-28 01:20:14.074 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:14.074 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:14.074 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:20:14.074 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:14.075 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:20:14.075 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:20:14.075 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:20:14.075 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:20:14.075 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:20:14.075 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:20:14.076 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:20:14.076 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:20:14.076 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:20:14.076 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:20:14.076 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:20:14.249 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:20:14.249 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:20:14.249 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:20:14.249 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:20:14.249 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:20:14.249 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:20:14.249 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 175.2323ms
2023-07-28 01:20:14.249 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:14.249 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:14.249 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:20:14.249 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 176.1308ms
2023-07-28 01:20:15.303 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:20:15.303 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:20:15.303 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:20:15.303 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:15.303 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:15.303 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:20:15.303 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:15.304 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:20:15.304 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:20:15.304 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:20:15.304 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:20:15.304 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:20:15.304 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:20:15.304 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:20:15.304 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:20:15.304 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:20:15.304 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:20:15.304 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:20:15.304 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:20:15.304 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000009": started reading request body.
2023-07-28 01:20:15.304 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000009": done reading request body.
2023-07-28 01:20:15.304 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:15.304 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:15.304 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:20:15.304 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:20:15.305 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:20:15.305 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:20:15.305 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:20:15.305 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:20:15.305 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:20:15.305 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:20:15.306 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:20:15.306 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:20:15.306 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:20:15.306 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:20:15.306 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:20:15.482 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:20:15.482 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:20:15.482 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:20:15.482 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:20:15.482 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:20:15.482 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:20:15.482 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 178.6074ms
2023-07-28 01:20:15.482 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:20:15.482 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:15.482 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:20:15.483 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 179.4254ms
2023-07-28 01:20:21.486 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:20:21.486 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:20:21.486 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:20:21.486 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:20:21.486 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:21.486 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:20:21.486 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:20:21.486 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-28 01:20:21.486 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:20:21.487 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:21.487 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 0.7928ms
2023-07-28 01:20:21.487 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000A": started reading request body.
2023-07-28 01:20:21.487 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000A": done reading request body.
2023-07-28 01:20:23.982 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:20:23.982 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:20:23.982 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:20:23.982 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:20:23.982 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:23.982 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:20:23.982 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:20:23.982 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-28 01:20:23.982 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:20:23.983 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:23.983 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 0.7905ms
2023-07-28 01:20:23.983 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000B": started reading request body.
2023-07-28 01:20:23.983 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000B": done reading request body.
2023-07-28 01:20:26.697 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:20:26.697 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:20:26.697 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:20:26.698 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:20:26.698 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:26.698 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:20:26.698 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:20:26.698 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-28 01:20:26.698 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:20:26.699 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:26.699 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 1.4563ms
2023-07-28 01:20:26.699 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000C": started reading request body.
2023-07-28 01:20:26.699 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000C": done reading request body.
2023-07-28 01:20:28.196 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:20:28.196 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:20:28.196 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:20:28.196 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:20:28.196 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:28.196 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:20:28.196 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:20:28.196 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-28 01:20:28.197 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:20:28.198 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:28.198 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 2.1111ms
2023-07-28 01:20:28.198 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000D": started reading request body.
2023-07-28 01:20:28.198 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000D": done reading request body.
2023-07-28 01:20:31.042 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:20:31.042 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:20:31.042 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:20:31.042 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:20:31.042 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:31.043 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:20:31.043 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:20:31.043 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-28 01:20:31.043 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:20:31.043 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:31.043 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 0.7777ms
2023-07-28 01:20:31.043 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000E": started reading request body.
2023-07-28 01:20:31.043 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000E": done reading request body.
2023-07-28 01:20:31.722 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:20:31.723 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:20:31.723 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:20:31.723 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:20:31.723 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:31.723 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:20:31.723 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:20:31.723 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-28 01:20:31.723 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:20:31.723 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:31.723 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 0.8411ms
2023-07-28 01:20:31.723 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000F": started reading request body.
2023-07-28 01:20:31.723 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:0000000F": done reading request body.
2023-07-28 01:20:50.317 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:20:50.317 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:20:50.318 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:20:50.318 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:20:50.318 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:20:50.318 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:20:50.318 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:20:50.318 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-28 01:20:50.318 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:20:50.318 +03:30 [DBG] Connection id "0HMSESI08OO0V" completed keep alive response.
2023-07-28 01:20:50.318 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 0.6455ms
2023-07-28 01:20:50.318 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000010": started reading request body.
2023-07-28 01:20:50.318 +03:30 [DBG] Connection id "0HMSESI08OO0V", Request id "0HMSESI08OO0V:00000010": done reading request body.
2023-07-28 01:21:13.082 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-28 01:21:13.131 +03:30 [DBG] Hosting starting
2023-07-28 01:21:13.141 +03:30 [INF] User profile is available. Using 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-28 01:21:13.143 +03:30 [DBG] Reading data from file 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys\key-e6e8aa4a-753d-4975-b87f-f0beb135ff4f.xml'.
2023-07-28 01:21:13.149 +03:30 [DBG] Found key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f}.
2023-07-28 01:21:13.154 +03:30 [DBG] Considering key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} with expiration date 2023-10-15 14:27:24Z as default key.
2023-07-28 01:21:13.155 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 01:21:13.157 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-28 01:21:13.157 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 01:21:13.160 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-28 01:21:13.161 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-28 01:21:13.164 +03:30 [DBG] Using key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} as the default key.
2023-07-28 01:21:13.164 +03:30 [DBG] Key ring with default key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} was loaded during application startup.
2023-07-28 01:21:13.207 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 125DFC3616D0C8C0E4FE0C577311DF2BC2C4E277)
2023-07-28 01:21:13.230 +03:30 [INF] Now listening on: https://localhost:7122
2023-07-28 01:21:13.230 +03:30 [INF] Now listening on: http://localhost:5003
2023-07-28 01:21:13.230 +03:30 [DBG] Loaded hosting startup assembly API Project
2023-07-28 01:21:13.230 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-28 01:21:13.230 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-28 01:21:13.230 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-07-28 01:21:13.230 +03:30 [INF] Hosting environment: Development
2023-07-28 01:21:13.230 +03:30 [INF] Content root path: D:\Programming\GitHub\WebApi-With-ASP\
2023-07-28 01:21:13.230 +03:30 [DBG] Hosting started
2023-07-28 01:21:13.482 +03:30 [DBG] Connection id "0HMSETECCHJT8" accepted.
2023-07-28 01:21:13.483 +03:30 [DBG] Connection id "0HMSETECCHJT8" started.
2023-07-28 01:21:13.484 +03:30 [DBG] Connection id "0HMSETECCHJT9" accepted.
2023-07-28 01:21:13.485 +03:30 [DBG] Connection id "0HMSETECCHJT9" started.
2023-07-28 01:21:13.516 +03:30 [DBG] Connection id "0HMSETECCHJT9" received FIN.
2023-07-28 01:21:13.516 +03:30 [DBG] Connection id "0HMSETECCHJT8" received FIN.
2023-07-28 01:21:13.523 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 01:21:13.523 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 01:21:13.536 +03:30 [DBG] Connection id "0HMSETECCHJT9" stopped.
2023-07-28 01:21:13.536 +03:30 [DBG] Connection id "0HMSETECCHJT8" stopped.
2023-07-28 01:21:13.537 +03:30 [DBG] Connection id "0HMSETECCHJT9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:21:13.537 +03:30 [DBG] Connection id "0HMSETECCHJT8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:21:13.686 +03:30 [DBG] Connection id "0HMSETECCHJTA" accepted.
2023-07-28 01:21:13.686 +03:30 [DBG] Connection id "0HMSETECCHJTA" started.
2023-07-28 01:21:13.712 +03:30 [DBG] Connection 0HMSETECCHJTA established using the following protocol: "Tls13"
2023-07-28 01:21:13.741 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/index.html - -
2023-07-28 01:21:13.756 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-28 01:21:13.770 +03:30 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-28 01:21:13.770 +03:30 [DBG] Request did not match any endpoints
2023-07-28 01:21:13.823 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-28 01:21:13.870 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-28 01:21:13.871 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/index.html - - - 200 - text/html;charset=utf-8 132.0243ms
2023-07-28 01:21:13.890 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - -
2023-07-28 01:21:13.892 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 2.2197ms
2023-07-28 01:21:13.965 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_vs/browserLink - -
2023-07-28 01:21:14.012 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 47.3921ms
2023-07-28 01:21:14.188 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - -
2023-07-28 01:21:14.189 +03:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-28 01:21:14.189 +03:30 [DBG] Request did not match any endpoints
2023-07-28 01:21:14.282 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 93.9387ms
2023-07-28 01:21:17.160 +03:30 [DBG] Connection id "0HMSETECCHJTB" accepted.
2023-07-28 01:21:17.161 +03:30 [DBG] Connection id "0HMSETECCHJTB" started.
2023-07-28 01:21:17.161 +03:30 [DBG] Connection id "0HMSETECCHJTC" accepted.
2023-07-28 01:21:17.161 +03:30 [DBG] Connection id "0HMSETECCHJTC" started.
2023-07-28 01:21:17.161 +03:30 [DBG] Connection id "0HMSETECCHJTB" received FIN.
2023-07-28 01:21:17.162 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 01:21:17.162 +03:30 [DBG] Connection id "0HMSETECCHJTB" stopped.
2023-07-28 01:21:17.162 +03:30 [DBG] Connection id "0HMSETECCHJTB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:21:17.166 +03:30 [DBG] Connection 0HMSETECCHJTC established using the following protocol: "Tls13"
2023-07-28 01:21:17.169 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:21:17.173 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:21:17.175 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:21:17.176 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:17.177 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:21:17.286 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:21:17.287 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:21:17.289 +03:30 [DBG] Authorization was successful.
2023-07-28 01:21:17.290 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:17.300 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:21:17.300 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:21:17.301 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:21:17.301 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:21:17.301 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:21:17.301 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:21:17.301 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:17.364 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-28 01:21:17.378 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:17.379 +03:30 [INF] Get all products
2023-07-28 01:21:17.953 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:21:17.973 +03:30 [DBG] Compiling query expression: 
'DbSet<Product>()'
2023-07-28 01:21:18.060 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Category (string) Required, 1], [Property: Product.CreatedDate (DateTime) Required, 2], [Property: Product.Description (string) Required, 3], [Property: Product.ImageUrl (string) Required, 4], [Property: Product.Name (string) Required, 5], [Property: Product.Price (int) Required, 6], [Property: Product.UpdatedDate (DateTime) Required, 7] }
        SELECT p.Id, p.Category, p.CreatedDate, p.Description, p.ImageUrl, p.Name, p.Price, p.UpdatedDate
        FROM Products AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    API_Project.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-28 01:21:18.078 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:21:18.097 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2023-07-28 01:21:18.099 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:21:18.229 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:18.233 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:18.275 +03:30 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:18.286 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:21:18.307 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:21:18.310 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:18.311 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:21:18.313 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:21:18.313 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:21:18.314 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:21:18.314 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:21:18.314 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:21:18.314 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:21:18.372 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 1068.7753ms
2023-07-28 01:21:18.372 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:18.373 +03:30 [DBG] Connection id "0HMSETECCHJTC" completed keep alive response.
2023-07-28 01:21:18.373 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:21:18.375 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 1205.3692ms
2023-07-28 01:21:18.375 +03:30 [DBG] Connection id "0HMSETECCHJTC", Request id "0HMSETECCHJTC:00000002": started reading request body.
2023-07-28 01:21:18.375 +03:30 [DBG] Connection id "0HMSETECCHJTC", Request id "0HMSETECCHJTC:00000002": done reading request body.
2023-07-28 01:21:35.780 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-28 01:21:35.832 +03:30 [DBG] Hosting starting
2023-07-28 01:21:35.841 +03:30 [INF] User profile is available. Using 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-28 01:21:35.843 +03:30 [DBG] Reading data from file 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys\key-e6e8aa4a-753d-4975-b87f-f0beb135ff4f.xml'.
2023-07-28 01:21:35.848 +03:30 [DBG] Found key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f}.
2023-07-28 01:21:35.853 +03:30 [DBG] Considering key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} with expiration date 2023-10-15 14:27:24Z as default key.
2023-07-28 01:21:35.854 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 01:21:35.856 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-28 01:21:35.857 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 01:21:35.859 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-28 01:21:35.860 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-28 01:21:35.862 +03:30 [DBG] Using key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} as the default key.
2023-07-28 01:21:35.862 +03:30 [DBG] Key ring with default key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} was loaded during application startup.
2023-07-28 01:21:35.907 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 125DFC3616D0C8C0E4FE0C577311DF2BC2C4E277)
2023-07-28 01:21:35.922 +03:30 [INF] Now listening on: https://localhost:7122
2023-07-28 01:21:35.922 +03:30 [INF] Now listening on: http://localhost:5003
2023-07-28 01:21:35.922 +03:30 [DBG] Loaded hosting startup assembly API Project
2023-07-28 01:21:35.922 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-28 01:21:35.922 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-28 01:21:35.922 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-07-28 01:21:35.922 +03:30 [INF] Hosting environment: Development
2023-07-28 01:21:35.922 +03:30 [INF] Content root path: D:\Programming\GitHub\WebApi-With-ASP\
2023-07-28 01:21:35.922 +03:30 [DBG] Hosting started
2023-07-28 01:21:36.115 +03:30 [DBG] Connection id "0HMSETEJ4CGNU" accepted.
2023-07-28 01:21:36.115 +03:30 [DBG] Connection id "0HMSETEJ4CGNV" accepted.
2023-07-28 01:21:36.116 +03:30 [DBG] Connection id "0HMSETEJ4CGNV" started.
2023-07-28 01:21:36.116 +03:30 [DBG] Connection id "0HMSETEJ4CGNU" started.
2023-07-28 01:21:36.123 +03:30 [DBG] Connection id "0HMSETEJ4CGNV" received FIN.
2023-07-28 01:21:36.123 +03:30 [DBG] Connection id "0HMSETEJ4CGNU" received FIN.
2023-07-28 01:21:36.128 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 01:21:36.128 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 01:21:36.138 +03:30 [DBG] Connection id "0HMSETEJ4CGNV" stopped.
2023-07-28 01:21:36.138 +03:30 [DBG] Connection id "0HMSETEJ4CGNU" stopped.
2023-07-28 01:21:36.138 +03:30 [DBG] Connection id "0HMSETEJ4CGNV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:21:36.138 +03:30 [DBG] Connection id "0HMSETEJ4CGNU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:21:36.286 +03:30 [DBG] Connection id "0HMSETEJ4CGO0" accepted.
2023-07-28 01:21:36.286 +03:30 [DBG] Connection id "0HMSETEJ4CGO0" started.
2023-07-28 01:21:36.309 +03:30 [DBG] Connection 0HMSETEJ4CGO0 established using the following protocol: "Tls13"
2023-07-28 01:21:36.337 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/index.html - -
2023-07-28 01:21:36.352 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-28 01:21:36.364 +03:30 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-28 01:21:36.365 +03:30 [DBG] Request did not match any endpoints
2023-07-28 01:21:36.418 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-28 01:21:36.474 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-28 01:21:36.475 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/index.html - - - 200 - text/html;charset=utf-8 140.5498ms
2023-07-28 01:21:36.483 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - -
2023-07-28 01:21:36.485 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 1.9630ms
2023-07-28 01:21:36.522 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_vs/browserLink - -
2023-07-28 01:21:36.538 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.1148ms
2023-07-28 01:21:36.611 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - -
2023-07-28 01:21:36.611 +03:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-28 01:21:36.611 +03:30 [DBG] Request did not match any endpoints
2023-07-28 01:21:36.699 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.6101ms
2023-07-28 01:21:41.561 +03:30 [DBG] Connection id "0HMSETEJ4CGO1" accepted.
2023-07-28 01:21:41.562 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" accepted.
2023-07-28 01:21:41.562 +03:30 [DBG] Connection id "0HMSETEJ4CGO1" started.
2023-07-28 01:21:41.562 +03:30 [DBG] Connection id "0HMSETEJ4CGO1" received FIN.
2023-07-28 01:21:41.563 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" started.
2023-07-28 01:21:41.563 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 01:21:41.563 +03:30 [DBG] Connection id "0HMSETEJ4CGO1" stopped.
2023-07-28 01:21:41.563 +03:30 [DBG] Connection id "0HMSETEJ4CGO1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:21:41.571 +03:30 [DBG] Connection 0HMSETEJ4CGO2 established using the following protocol: "Tls13"
2023-07-28 01:21:41.576 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:21:41.581 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:21:41.583 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:21:41.584 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:41.585 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:21:41.692 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:21:41.693 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:21:41.695 +03:30 [DBG] Authorization was successful.
2023-07-28 01:21:41.696 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:41.707 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:21:41.707 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:21:41.707 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:21:41.708 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:21:41.708 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:21:41.708 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:21:41.708 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:41.775 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-28 01:21:41.789 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:41.790 +03:30 [INF] Get all products
2023-07-28 01:21:42.318 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:21:42.333 +03:30 [DBG] Compiling query expression: 
'DbSet<Product>()'
2023-07-28 01:21:42.426 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Category (string) Required, 1], [Property: Product.CreatedDate (DateTime) Required, 2], [Property: Product.Description (string) Required, 3], [Property: Product.ImageUrl (string) Required, 4], [Property: Product.Name (string) Required, 5], [Property: Product.Price (int) Required, 6], [Property: Product.UpdatedDate (DateTime) Required, 7] }
        SELECT p.Id, p.Category, p.CreatedDate, p.Description, p.ImageUrl, p.Name, p.Price, p.UpdatedDate
        FROM Products AS p), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    API_Project.Data.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-07-28 01:21:42.446 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:21:42.466 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (16ms).
2023-07-28 01:21:42.468 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:21:42.677 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:42.691 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:42.803 +03:30 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:42.828 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:21:42.889 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:21:42.894 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:42.898 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:21:42.903 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:21:42.905 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:21:42.905 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:21:42.905 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:21:42.906 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:21:42.906 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:21:43.050 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 1335.3499ms
2023-07-28 01:21:43.050 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:43.052 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:21:43.055 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:21:43.059 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 1482.3646ms
2023-07-28 01:21:43.059 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000002": started reading request body.
2023-07-28 01:21:43.059 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000002": done reading request body.
2023-07-28 01:21:44.641 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:21:44.642 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:21:44.642 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:21:44.642 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:44.642 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:21:44.643 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:21:44.643 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:21:44.643 +03:30 [DBG] Authorization was successful.
2023-07-28 01:21:44.643 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:44.644 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:21:44.644 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:21:44.644 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:21:44.644 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:21:44.644 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:21:44.644 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:21:44.644 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:44.644 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:44.644 +03:30 [INF] Get all products
2023-07-28 01:21:44.646 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:21:44.646 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:21:44.647 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:21:44.647 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:21:44.647 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:44.647 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:44.652 +03:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:44.653 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:21:44.653 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:21:44.653 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:44.653 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:21:44.654 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:21:44.654 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:21:44.654 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:21:44.654 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:21:44.654 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:21:44.654 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:21:44.655 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 10.998ms
2023-07-28 01:21:44.655 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:44.655 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:21:44.665 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:21:44.666 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 24.7306ms
2023-07-28 01:21:44.666 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000003": started reading request body.
2023-07-28 01:21:44.666 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000003": done reading request body.
2023-07-28 01:21:45.477 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:21:45.477 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:21:45.477 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:21:45.477 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:45.477 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:21:45.480 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:21:45.481 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:21:45.482 +03:30 [DBG] Authorization was successful.
2023-07-28 01:21:45.482 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:45.482 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:21:45.483 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:21:45.483 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:21:45.483 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:21:45.483 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:21:45.483 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:21:45.483 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:45.486 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:45.486 +03:30 [INF] Get all products
2023-07-28 01:21:45.558 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:21:45.559 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:21:45.559 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:21:45.559 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:21:45.559 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:45.559 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:45.560 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:45.560 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:21:45.560 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:21:45.560 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:45.560 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:21:45.560 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:21:45.560 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:21:45.560 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:21:45.560 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:21:45.561 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:21:45.561 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:21:45.561 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 77.9613ms
2023-07-28 01:21:45.561 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:45.561 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:21:45.561 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:21:45.561 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 83.9000ms
2023-07-28 01:21:45.561 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000004": started reading request body.
2023-07-28 01:21:45.561 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000004": done reading request body.
2023-07-28 01:21:46.381 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:21:46.381 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:21:46.381 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:21:46.381 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:46.381 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:21:46.381 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:21:46.381 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:21:46.381 +03:30 [DBG] Authorization was successful.
2023-07-28 01:21:46.381 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:46.381 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:21:46.381 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:21:46.382 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:21:46.382 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:21:46.382 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:21:46.382 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:21:46.382 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:46.382 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:46.382 +03:30 [INF] Get all products
2023-07-28 01:21:46.382 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:21:46.382 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:21:46.382 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:21:46.382 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:21:46.383 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:46.383 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:46.383 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:46.383 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:21:46.383 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:21:46.383 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:46.384 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:21:46.384 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:21:46.384 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:21:46.384 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:21:46.384 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:21:46.384 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:21:46.384 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:21:46.384 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 2.6361ms
2023-07-28 01:21:46.384 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:46.384 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:21:46.384 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:21:46.385 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 3.9372ms
2023-07-28 01:21:46.385 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000005": started reading request body.
2023-07-28 01:21:46.385 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000005": done reading request body.
2023-07-28 01:21:46.999 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:21:46.999 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:21:46.999 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:21:46.999 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:46.999 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:21:47.000 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:21:47.000 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:21:47.000 +03:30 [DBG] Authorization was successful.
2023-07-28 01:21:47.000 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:47.000 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:21:47.000 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:21:47.000 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:21:47.000 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:21:47.000 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:21:47.000 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:21:47.000 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:47.001 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:47.001 +03:30 [INF] Get all products
2023-07-28 01:21:47.001 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:21:47.001 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:21:47.001 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:21:47.001 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:21:47.002 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:47.002 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:47.002 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:47.002 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:21:47.003 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:21:47.003 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:47.003 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:21:47.003 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:21:47.003 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:21:47.003 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:21:47.003 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:21:47.003 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:21:47.003 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:21:47.003 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 2.9059ms
2023-07-28 01:21:47.003 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:47.003 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:21:47.003 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:21:47.004 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 4.4128ms
2023-07-28 01:21:47.004 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000006": started reading request body.
2023-07-28 01:21:47.004 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000006": done reading request body.
2023-07-28 01:21:47.505 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:21:47.505 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:21:47.505 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:21:47.505 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:47.505 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:21:47.506 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:21:47.506 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:21:47.506 +03:30 [DBG] Authorization was successful.
2023-07-28 01:21:47.506 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:47.506 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:21:47.506 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:21:47.506 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:21:47.506 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:21:47.506 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:21:47.506 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:21:47.506 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:47.506 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:47.506 +03:30 [INF] Get all products
2023-07-28 01:21:47.507 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:21:47.507 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:21:47.507 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:21:47.507 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:21:47.507 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:47.507 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:47.508 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:47.508 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:21:47.508 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:21:47.508 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:47.508 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:21:47.508 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:21:47.508 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:21:47.508 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:21:47.509 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:21:47.509 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:21:47.509 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:21:47.509 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 2.89ms
2023-07-28 01:21:47.509 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:47.509 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:21:47.509 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:21:47.509 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 4.2906ms
2023-07-28 01:21:47.509 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000007": started reading request body.
2023-07-28 01:21:47.509 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000007": done reading request body.
2023-07-28 01:21:48.149 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:21:48.149 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:21:48.149 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:21:48.149 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:48.149 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:21:48.150 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:21:48.150 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:21:48.150 +03:30 [DBG] Authorization was successful.
2023-07-28 01:21:48.150 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:48.150 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:21:48.150 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:21:48.150 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:21:48.150 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:21:48.150 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:21:48.150 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:21:48.150 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:48.151 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:48.151 +03:30 [INF] Get all products
2023-07-28 01:21:48.151 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:21:48.152 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:21:48.152 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:21:48.152 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:21:48.152 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:48.152 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:48.153 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:48.153 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:21:48.153 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:21:48.153 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:48.153 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:21:48.154 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:21:48.154 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:21:48.154 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:21:48.154 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:21:48.154 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:21:48.154 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:21:48.154 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 3.7566ms
2023-07-28 01:21:48.154 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:48.154 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:21:48.154 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:21:48.154 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 5.0065ms
2023-07-28 01:21:48.154 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000008": started reading request body.
2023-07-28 01:21:48.154 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000008": done reading request body.
2023-07-28 01:21:49.107 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:21:49.107 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:21:49.107 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:21:49.107 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:49.107 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:21:49.108 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:21:49.108 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:21:49.108 +03:30 [DBG] Authorization was successful.
2023-07-28 01:21:49.108 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:49.108 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:21:49.108 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:21:49.108 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:21:49.108 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:21:49.108 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:21:49.108 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:21:49.108 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:49.109 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:49.109 +03:30 [INF] Get all products
2023-07-28 01:21:49.109 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:21:49.109 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:21:49.109 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:21:49.109 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:21:49.109 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:49.109 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:49.110 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:49.110 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:21:49.110 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:21:49.110 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:49.110 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:21:49.110 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:21:49.111 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:21:49.111 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:21:49.111 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:21:49.111 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:21:49.111 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:21:49.111 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 2.6893ms
2023-07-28 01:21:49.111 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:49.111 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:21:49.111 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:21:49.111 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 4.8033ms
2023-07-28 01:21:49.111 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000009": started reading request body.
2023-07-28 01:21:49.111 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000009": done reading request body.
2023-07-28 01:21:54.533 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:21:54.533 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:21:54.533 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:21:54.533 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:54.533 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:21:54.533 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:21:54.533 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:21:54.533 +03:30 [DBG] Authorization was successful.
2023-07-28 01:21:54.533 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:54.533 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:21:54.533 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:21:54.533 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:21:54.533 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:21:54.533 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:21:54.533 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:21:54.533 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:54.534 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:21:54.534 +03:30 [INF] Get all products
2023-07-28 01:21:54.534 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:21:54.534 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:21:54.534 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:21:54.534 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:21:54.534 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:54.534 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:54.535 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:21:54.535 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:21:54.535 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:21:54.535 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:21:54.535 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:21:54.535 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:21:54.535 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:21:54.535 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:21:54.535 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:21:54.535 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:21:54.535 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:21:54.535 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 1.5821ms
2023-07-28 01:21:54.535 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:21:54.535 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:21:54.535 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:21:54.535 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 2.3512ms
2023-07-28 01:21:54.535 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000A": started reading request body.
2023-07-28 01:21:54.535 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000A": done reading request body.
2023-07-28 01:22:19.404 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:22:19.405 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:22:19.405 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:22:19.405 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:19.405 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:22:19.405 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:22:19.405 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:19.420 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:22:19.420 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:22:19.420 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:22:19.420 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:22:19.420 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:22:19.420 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:22:19.420 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:19.420 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:19.424 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:19.426 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:22:19.427 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:22:19.427 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:22:19.431 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000B": started reading request body.
2023-07-28 01:22:19.431 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000B": done reading request body.
2023-07-28 01:22:19.470 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:19.470 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:19.470 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:19.479 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:19.485 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:22:19.499 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(x => x.UserName == __userName_0)'
2023-07-28 01:22:19.583 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.HashedPassword (string) Required, 2], [Property: User.Name (string) Required, 3], [Property: User.PhoneNumber (string) Required, 4], [Property: User.Role (string) Required, 5], [Property: User.UserName (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.HashedPassword, u.Name, u.PhoneNumber, u.Role, u.UserName
            FROM Users AS u
            WHERE u.UserName == @__userName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        API_Project.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-28 01:22:19.592 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:22:19.592 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:22:19.595 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:22:19.595 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:19.599 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:19.613 +03:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:19.615 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:22:19.626 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:22:19.626 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:19.626 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:22:19.905 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:22:19.905 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:22:19.905 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:22:19.905 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:22:19.905 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:22:19.905 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:22:19.906 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 485.6956ms
2023-07-28 01:22:19.906 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:19.906 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:22:19.906 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:22:19.906 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 501.4781ms
2023-07-28 01:22:27.889 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:22:27.889 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:22:27.890 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:22:27.890 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:22:27.890 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:22:27.890 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:22:27.890 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:22:27.891 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Moderator)
2023-07-28 01:22:27.893 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:22:27.893 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:22:27.893 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 4.2401ms
2023-07-28 01:22:27.894 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000C": started reading request body.
2023-07-28 01:22:27.894 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000C": done reading request body.
2023-07-28 01:22:29.426 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:22:29.427 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:22:29.427 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:22:29.427 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:22:29.427 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:22:29.427 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:22:29.427 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:22:29.428 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|Moderator)
2023-07-28 01:22:29.428 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:22:29.428 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:22:29.428 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 1.6668ms
2023-07-28 01:22:29.428 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000D": started reading request body.
2023-07-28 01:22:29.428 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000D": done reading request body.
2023-07-28 01:22:45.014 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:22:45.014 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:22:45.014 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:22:45.014 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:45.014 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:22:45.014 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:22:45.014 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:45.015 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:22:45.015 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:22:45.015 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:22:45.015 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:22:45.015 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:22:45.015 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:22:45.015 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:45.015 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:45.015 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:45.015 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:22:45.015 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:22:45.015 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:22:45.015 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000E": started reading request body.
2023-07-28 01:22:45.015 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000E": done reading request body.
2023-07-28 01:22:45.015 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:45.015 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:45.015 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:45.016 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:45.017 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:22:45.019 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:22:45.019 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:22:45.019 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:22:45.019 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:45.019 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:45.020 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:45.020 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:22:45.020 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:22:45.020 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:45.020 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:22:45.196 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:22:45.196 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:22:45.196 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:22:45.196 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:22:45.196 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:22:45.196 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:22:45.196 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 181.2729ms
2023-07-28 01:22:45.196 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:45.196 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:22:45.196 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:22:45.196 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 181.9840ms
2023-07-28 01:22:47.879 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:22:47.879 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:22:47.879 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:22:47.879 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:47.879 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:22:47.879 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:22:47.879 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:47.879 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:22:47.879 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:22:47.879 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:22:47.879 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:22:47.879 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:22:47.879 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:22:47.879 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:47.880 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:47.880 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:47.880 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:22:47.880 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:22:47.880 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:22:47.880 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000F": started reading request body.
2023-07-28 01:22:47.880 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000000F": done reading request body.
2023-07-28 01:22:47.881 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:47.881 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:47.881 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:47.881 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:47.881 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:22:47.881 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:22:47.881 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:22:47.881 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:22:47.881 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:47.881 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:47.882 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:47.882 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:22:47.882 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:22:47.882 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:47.882 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:22:48.072 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:22:48.072 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:22:48.072 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:22:48.072 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:22:48.072 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:22:48.072 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:22:48.072 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 193.0868ms
2023-07-28 01:22:48.072 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:48.072 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:22:48.072 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:22:48.072 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 193.8272ms
2023-07-28 01:22:49.806 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:22:49.807 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:22:49.807 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:22:49.807 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:49.807 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:22:49.807 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:22:49.807 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:49.807 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:22:49.807 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:22:49.807 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:22:49.807 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:22:49.807 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:22:49.807 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:22:49.807 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:49.807 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:49.807 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:49.807 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:22:49.807 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:22:49.807 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:22:49.807 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000010": started reading request body.
2023-07-28 01:22:49.807 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000010": done reading request body.
2023-07-28 01:22:49.807 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:49.807 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:49.807 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:49.807 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:49.808 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:22:49.809 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:22:49.809 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:22:49.809 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:22:49.809 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:49.809 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:49.810 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:49.810 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:22:49.810 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:22:49.810 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:49.810 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:22:50.014 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:22:50.014 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:22:50.015 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:22:50.015 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:22:50.015 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:22:50.015 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:22:50.015 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 208.0309ms
2023-07-28 01:22:50.015 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:50.015 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:22:50.015 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:22:50.015 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 208.5543ms
2023-07-28 01:22:50.778 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:22:50.778 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:22:50.778 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:22:50.778 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:50.778 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:22:50.778 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:22:50.778 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:50.778 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:22:50.778 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:22:50.778 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:22:50.778 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:22:50.778 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:22:50.778 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:22:50.778 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:50.779 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:50.779 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:50.779 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:22:50.779 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:22:50.779 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:22:50.779 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000011": started reading request body.
2023-07-28 01:22:50.779 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000011": done reading request body.
2023-07-28 01:22:50.779 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:50.779 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:50.779 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:50.779 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:50.779 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:22:50.780 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:22:50.780 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:22:50.780 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:22:50.780 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:50.780 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:50.780 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:50.780 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:22:50.780 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:22:50.780 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:50.780 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:22:50.970 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:22:50.970 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:22:50.970 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:22:50.970 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:22:50.970 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:22:50.970 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:22:50.970 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 191.7454ms
2023-07-28 01:22:50.970 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:50.970 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:22:50.970 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:22:50.970 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 192.5881ms
2023-07-28 01:22:52.194 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:22:52.194 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:22:52.194 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:22:52.194 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:52.194 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:22:52.194 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:22:52.194 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:52.194 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:22:52.194 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:22:52.194 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:22:52.195 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:22:52.195 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:22:52.195 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:22:52.195 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:52.195 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:22:52.195 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:52.195 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:22:52.195 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:22:52.195 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:22:52.196 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000012": started reading request body.
2023-07-28 01:22:52.196 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000012": done reading request body.
2023-07-28 01:22:52.196 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:52.196 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:52.196 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:22:52.196 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:22:52.197 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:22:52.197 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:22:52.198 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:22:52.198 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:22:52.198 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:52.198 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:52.199 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:22:52.199 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:22:52.199 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:22:52.199 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:52.200 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:22:52.417 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:22:52.417 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:22:52.417 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:22:52.417 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:22:52.417 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:22:52.417 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:22:52.417 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 222.1252ms
2023-07-28 01:22:52.417 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:22:52.417 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:22:52.417 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:22:52.417 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 223.3623ms
2023-07-28 01:22:58.574 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:22:58.574 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:22:58.574 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:22:58.574 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:22:58.574 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:22:58.574 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:22:58.574 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:22:58.575 +03:30 [DBG] Authorization was successful.
2023-07-28 01:22:58.575 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:22:58.575 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:22:58.575 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:22:58.575 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:22:58.575 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:22:58.575 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:22:58.575 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:22:58.575 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:22:58.575 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:22:58.575 +03:30 [INF] Get all products
2023-07-28 01:22:58.577 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:22:58.577 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:22:58.577 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:22:58.577 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:22:58.577 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:58.577 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:22:58.577 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:22:58.578 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:22:58.578 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:22:58.578 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:22:58.578 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:22:58.578 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:22:58.578 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:22:58.578 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:22:58.578 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:22:58.578 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:22:58.578 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:22:58.578 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 3.3641ms
2023-07-28 01:22:58.578 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:22:58.578 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:22:58.578 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:22:58.578 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 4.5928ms
2023-07-28 01:22:58.578 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000013": started reading request body.
2023-07-28 01:22:58.578 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000013": done reading request body.
2023-07-28 01:23:23.825 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:23:23.825 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:23:23.826 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:23:23.826 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:23.826 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:23:23.826 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:23:23.826 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:23.826 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:23:23.826 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:23:23.826 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:23:23.826 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:23:23.826 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:23:23.826 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:23:23.826 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:23.826 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:23.826 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:23.826 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:23:23.826 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:23:23.826 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:23:23.826 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000014": started reading request body.
2023-07-28 01:23:23.826 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000014": done reading request body.
2023-07-28 01:23:23.826 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:23.826 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:23.826 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:23.826 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:23.827 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:23:23.827 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:23:23.827 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:23:23.827 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:23:23.827 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:23.827 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:23.827 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:23.828 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:23:23.828 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:23:23.828 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:23.828 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:23:24.022 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:23:24.022 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:23:24.022 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:23:24.022 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:23:24.022 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:23:24.022 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:23:24.022 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 196.4391ms
2023-07-28 01:23:24.022 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:24.022 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:23:24.023 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:23:24.023 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 197.1958ms
2023-07-28 01:23:25.538 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:23:25.539 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:23:25.539 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:23:25.539 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:25.539 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:23:25.539 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:23:25.539 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:25.539 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:23:25.539 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:23:25.539 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:23:25.540 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:23:25.540 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:23:25.540 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:23:25.540 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:25.540 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:25.540 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:25.541 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:23:25.541 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:23:25.541 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:23:25.541 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000015": started reading request body.
2023-07-28 01:23:25.541 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000015": done reading request body.
2023-07-28 01:23:25.541 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:25.541 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:25.541 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:25.541 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:25.542 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:23:25.542 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:23:25.543 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:23:25.543 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:23:25.543 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:25.543 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:25.544 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:25.544 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:23:25.544 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:23:25.544 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:25.544 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:23:25.735 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:23:25.735 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:23:25.735 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:23:25.735 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:23:25.735 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:23:25.735 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:23:25.735 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 195.3035ms
2023-07-28 01:23:25.735 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:25.735 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:23:25.735 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:23:25.735 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 196.9611ms
2023-07-28 01:23:27.866 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:23:27.866 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:23:27.866 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:23:27.866 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:27.866 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:23:27.866 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:23:27.866 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:27.867 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:23:27.867 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:23:27.867 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:23:27.867 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:23:27.867 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:23:27.867 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:23:27.867 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:27.867 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:27.867 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:27.867 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:23:27.867 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:23:27.867 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:23:27.867 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000016": started reading request body.
2023-07-28 01:23:27.867 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000016": done reading request body.
2023-07-28 01:23:27.867 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:27.867 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:27.867 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:27.867 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:27.868 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:23:27.868 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:23:27.868 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:23:27.868 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:23:27.868 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:27.869 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:27.869 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:27.869 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:23:27.869 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:23:27.869 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:27.869 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:23:28.082 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:23:28.082 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:23:28.083 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:23:28.083 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:23:28.083 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:23:28.083 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:23:28.083 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 216.2335ms
2023-07-28 01:23:28.083 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:28.083 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:23:28.083 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:23:28.083 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 217.1807ms
2023-07-28 01:23:29.308 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:23:29.308 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:23:29.308 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:23:29.308 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:29.308 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:23:29.308 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:23:29.308 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:29.308 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:23:29.308 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:23:29.308 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:23:29.308 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:23:29.308 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:23:29.308 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:23:29.308 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:29.308 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:29.308 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:29.308 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:23:29.308 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:23:29.309 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:23:29.309 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000017": started reading request body.
2023-07-28 01:23:29.309 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000017": done reading request body.
2023-07-28 01:23:29.309 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:29.309 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:29.309 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:29.309 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:29.309 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:23:29.309 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:23:29.309 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:23:29.309 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:23:29.310 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:29.310 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:29.310 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:29.310 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:23:29.310 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:23:29.310 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:29.310 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:23:29.516 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:23:29.516 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:23:29.516 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:23:29.516 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:23:29.516 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:23:29.516 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:23:29.516 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 207.6392ms
2023-07-28 01:23:29.516 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:29.516 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:23:29.516 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:23:29.516 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 208.3977ms
2023-07-28 01:23:31.110 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:23:31.110 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:23:31.110 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:23:31.111 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:31.111 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:23:31.111 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:23:31.111 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:31.111 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:23:31.111 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:23:31.111 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:23:31.111 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:23:31.111 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:23:31.111 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:23:31.111 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:31.111 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:31.111 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:31.111 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:23:31.111 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:23:31.111 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:23:31.111 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000018": started reading request body.
2023-07-28 01:23:31.112 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000018": done reading request body.
2023-07-28 01:23:31.112 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:31.112 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:31.112 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:31.112 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:31.112 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:23:31.113 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:23:31.113 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:23:31.113 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:23:31.113 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:31.113 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:31.114 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:31.114 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:23:31.114 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:23:31.114 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:31.114 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:23:31.290 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:23:31.290 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:23:31.290 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:23:31.290 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:23:31.290 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:23:31.290 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:23:31.290 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 179.3872ms
2023-07-28 01:23:31.290 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:31.290 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:23:31.291 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:23:31.291 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 180.3994ms
2023-07-28 01:23:32.988 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:23:32.988 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:23:32.988 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:23:32.988 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:32.989 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:23:32.989 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:23:32.989 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:32.989 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:23:32.989 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:23:32.989 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:23:32.989 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:23:32.989 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:23:32.989 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:23:32.989 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:32.989 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:32.989 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:32.989 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:23:32.989 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:23:32.989 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:23:32.989 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000019": started reading request body.
2023-07-28 01:23:32.989 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:00000019": done reading request body.
2023-07-28 01:23:32.989 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:32.989 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:32.989 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:32.990 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:32.990 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:23:32.990 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:23:32.990 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:23:32.991 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:23:32.991 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:32.991 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:32.992 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:32.992 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:23:32.992 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:23:32.992 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:32.992 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:23:33.208 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:23:33.208 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:23:33.208 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:23:33.208 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:23:33.208 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:23:33.208 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:23:33.209 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 219.8367ms
2023-07-28 01:23:33.209 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:33.209 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:23:33.209 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:23:33.209 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 220.7349ms
2023-07-28 01:23:33.886 +03:30 [INF] Request starting HTTP/1.1 POST https://localhost:7122/api/auth application/json 53
2023-07-28 01:23:33.886 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:23:33.886 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:23:33.886 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:33.886 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:23:33.886 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:23:33.886 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:33.886 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:23:33.886 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:23:33.886 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:23:33.886 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:23:33.886 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:23:33.886 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:23:33.886 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:33.886 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:23:33.887 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:33.887 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:23:33.887 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-07-28 01:23:33.887 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-07-28 01:23:33.887 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000001A": started reading request body.
2023-07-28 01:23:33.887 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000001A": done reading request body.
2023-07-28 01:23:33.887 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:33.887 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:33.887 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:23:33.887 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:23:33.887 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:23:33.888 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:23:33.888 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:23:33.888 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:23:33.888 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:33.888 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:33.888 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:23:33.889 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:23:33.889 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:23:33.889 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:33.889 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:23:34.082 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:23:34.083 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:23:34.083 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:23:34.083 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:23:34.083 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:23:34.083 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-28 01:23:34.083 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 196.5983ms
2023-07-28 01:23:34.083 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:23:34.083 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:23:34.083 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:23:34.083 +03:30 [INF] Request finished HTTP/1.1 POST https://localhost:7122/api/auth application/json 53 - 200 - text/plain;+charset=utf-8 197.3036ms
2023-07-28 01:23:42.312 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:23:42.312 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:23:42.313 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:23:42.313 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:23:42.313 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:23:42.313 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:23:42.313 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:23:42.313 +03:30 [DBG] Authorization was successful.
2023-07-28 01:23:42.313 +03:30 [INF] Executing endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:23:42.313 +03:30 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API_Project.Models.Dto.ProductDTO]]] GetProductsAsync() on controller API_Project.Controllers.ProductsController (API Project).
2023-07-28 01:23:42.313 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:23:42.314 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:23:42.314 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:23:42.314 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:23:42.314 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:23:42.314 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:23:42.314 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.ProductsController (API Project)
2023-07-28 01:23:42.314 +03:30 [INF] Get all products
2023-07-28 01:23:42.315 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:23:42.315 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:23:42.315 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-07-28 01:23:42.316 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:23:42.316 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:42.316 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:23:42.317 +03:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Category", p."CreatedDate", p."Description", p."ImageUrl", p."Name", p."Price", p."UpdatedDate"
FROM "Products" AS p
2023-07-28 01:23:42.317 +03:30 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-28 01:23:42.317 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:23:42.317 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:23:42.317 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:23:42.317 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:23:42.317 +03:30 [DBG] No information found on request to perform content negotiation.
2023-07-28 01:23:42.317 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-28 01:23:42.317 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-28 01:23:42.317 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-28 01:23:42.317 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_Project.Models.Product, API Project, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-07-28 01:23:42.318 +03:30 [INF] Executed action API_Project.Controllers.ProductsController.GetProductsAsync (API Project) in 4.0654ms
2023-07-28 01:23:42.318 +03:30 [INF] Executed endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:23:42.318 +03:30 [DBG] Connection id "0HMSETEJ4CGO2" completed keep alive response.
2023-07-28 01:23:42.318 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:23:42.318 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 200 178 application/json;+charset=utf-8 5.6346ms
2023-07-28 01:23:42.318 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000001B": started reading request body.
2023-07-28 01:23:42.318 +03:30 [DBG] Connection id "0HMSETEJ4CGO2", Request id "0HMSETEJ4CGO2:0000001B": done reading request body.
2023-07-28 01:23:48.352 +03:30 [DBG] Connection id "0HMSETEJ4CGO0" is closing.
2023-07-28 01:23:48.352 +03:30 [DBG] Connection id "0HMSETEJ4CGO0" is closed. The last processed stream ID was 7.
2023-07-28 01:23:48.353 +03:30 [DBG] Connection id "0HMSETEJ4CGO0" received FIN.
2023-07-28 01:23:48.354 +03:30 [DBG] Connection id "0HMSETEJ4CGO0" sending FIN because: "The client closed the connection."
2023-07-28 01:23:48.356 +03:30 [DBG] Connection id "0HMSETEJ4CGO0" stopped.
2023-07-28 01:23:59.640 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-28 01:23:59.683 +03:30 [DBG] Hosting starting
2023-07-28 01:23:59.693 +03:30 [INF] User profile is available. Using 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-28 01:23:59.694 +03:30 [DBG] Reading data from file 'C:\Users\amirj\AppData\Local\ASP.NET\DataProtection-Keys\key-e6e8aa4a-753d-4975-b87f-f0beb135ff4f.xml'.
2023-07-28 01:23:59.699 +03:30 [DBG] Found key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f}.
2023-07-28 01:23:59.703 +03:30 [DBG] Considering key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} with expiration date 2023-10-15 14:27:24Z as default key.
2023-07-28 01:23:59.704 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 01:23:59.705 +03:30 [DBG] Decrypting secret element using Windows DPAPI.
2023-07-28 01:23:59.706 +03:30 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-07-28 01:23:59.708 +03:30 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-07-28 01:23:59.709 +03:30 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-07-28 01:23:59.710 +03:30 [DBG] Using key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} as the default key.
2023-07-28 01:23:59.711 +03:30 [DBG] Key ring with default key {e6e8aa4a-753d-4975-b87f-f0beb135ff4f} was loaded during application startup.
2023-07-28 01:23:59.748 +03:30 [DBG] Using development certificate: CN=localhost (Thumbprint: 125DFC3616D0C8C0E4FE0C577311DF2BC2C4E277)
2023-07-28 01:23:59.763 +03:30 [INF] Now listening on: https://localhost:7122
2023-07-28 01:23:59.763 +03:30 [INF] Now listening on: http://localhost:5003
2023-07-28 01:23:59.763 +03:30 [DBG] Loaded hosting startup assembly API Project
2023-07-28 01:23:59.763 +03:30 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-28 01:23:59.763 +03:30 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-28 01:23:59.763 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2023-07-28 01:23:59.763 +03:30 [INF] Hosting environment: Development
2023-07-28 01:23:59.763 +03:30 [INF] Content root path: D:\Programming\GitHub\WebApi-With-ASP\
2023-07-28 01:23:59.763 +03:30 [DBG] Hosting started
2023-07-28 01:23:59.953 +03:30 [DBG] Connection id "0HMSETFU04GOB" accepted.
2023-07-28 01:23:59.954 +03:30 [DBG] Connection id "0HMSETFU04GOB" started.
2023-07-28 01:23:59.990 +03:30 [DBG] Connection id "0HMSETFU04GOC" reset.
2023-07-28 01:23:59.991 +03:30 [DBG] Connection id "0HMSETFU04GOC" accepted.
2023-07-28 01:23:59.992 +03:30 [DBG] Connection id "0HMSETFU04GOC" started.
2023-07-28 01:23:59.992 +03:30 [DBG] Connection id "0HMSETFU04GOB" received FIN.
2023-07-28 01:23:59.996 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 01:23:59.995 +03:30 [DBG] Failed to authenticate HTTPS connection.
Microsoft.AspNetCore.Connections.ConnectionResetException: An existing connection was forcibly closed by the remote host.
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal.SocketConnection.DoReceive()
   --- End of inner exception stack trace ---
   at System.IO.Pipelines.Pipe.GetReadResult(ReadResult& result)
   at System.IO.Pipelines.Pipe.ReadAsync(CancellationToken token)
   at System.IO.Pipelines.Pipe.DefaultPipeReader.ReadAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 01:24:00.020 +03:30 [DBG] Connection id "0HMSETFU04GOC" stopped.
2023-07-28 01:24:00.020 +03:30 [DBG] Connection id "0HMSETFU04GOB" stopped.
2023-07-28 01:24:00.022 +03:30 [DBG] Connection id "0HMSETFU04GOB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:24:00.022 +03:30 [DBG] Connection id "0HMSETFU04GOC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:24:00.040 +03:30 [DBG] Connection id "0HMSETFU04GOD" accepted.
2023-07-28 01:24:00.041 +03:30 [DBG] Connection id "0HMSETFU04GOD" started.
2023-07-28 01:24:00.064 +03:30 [DBG] Connection 0HMSETFU04GOD established using the following protocol: "Tls13"
2023-07-28 01:24:00.088 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/index.html - -
2023-07-28 01:24:00.102 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-28 01:24:00.115 +03:30 [DBG] No candidates found for the request path '/swagger/index.html'
2023-07-28 01:24:00.115 +03:30 [DBG] Request did not match any endpoints
2023-07-28 01:24:00.167 +03:30 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-28 01:24:00.208 +03:30 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-28 01:24:00.209 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/index.html - - - 200 - text/html;charset=utf-8 122.8464ms
2023-07-28 01:24:00.244 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - -
2023-07-28 01:24:00.245 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_framework/aspnetcore-browser-refresh.js - - - 200 12354 application/javascript;+charset=utf-8 1.6688ms
2023-07-28 01:24:00.280 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/_vs/browserLink - -
2023-07-28 01:24:00.292 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.8047ms
2023-07-28 01:24:00.510 +03:30 [INF] Request starting HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - -
2023-07-28 01:24:00.511 +03:30 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-07-28 01:24:00.511 +03:30 [DBG] Request did not match any endpoints
2023-07-28 01:24:00.588 +03:30 [INF] Request finished HTTP/2 GET https://localhost:7122/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 77.3309ms
2023-07-28 01:24:01.572 +03:30 [DBG] Connection id "0HMSETFU04GOE" accepted.
2023-07-28 01:24:01.572 +03:30 [DBG] Connection id "0HMSETFU04GOE" started.
2023-07-28 01:24:01.572 +03:30 [DBG] Connection id "0HMSETFU04GOF" accepted.
2023-07-28 01:24:01.572 +03:30 [DBG] Connection id "0HMSETFU04GOF" started.
2023-07-28 01:24:01.572 +03:30 [DBG] Connection id "0HMSETFU04GOE" received FIN.
2023-07-28 01:24:01.573 +03:30 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-07-28 01:24:01.573 +03:30 [DBG] Connection id "0HMSETFU04GOE" stopped.
2023-07-28 01:24:01.573 +03:30 [DBG] Connection id "0HMSETFU04GOE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:24:01.576 +03:30 [DBG] Connection 0HMSETFU04GOF established using the following protocol: "Tls13"
2023-07-28 01:24:01.579 +03:30 [INF] Request starting HTTP/1.1 GET https://localhost:7122/api/products application/json 54
2023-07-28 01:24:01.583 +03:30 [DBG] 1 candidate(s) found for the request path '/api/products'
2023-07-28 01:24:01.586 +03:30 [DBG] Endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)' with route pattern 'api/products' is valid for the request path '/api/products'
2023-07-28 01:24:01.586 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.ProductsController.GetProductsAsync (API Project)'
2023-07-28 01:24:01.587 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:24:01.692 +03:30 [DBG] Successfully validated the token.
2023-07-28 01:24:01.692 +03:30 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-07-28 01:24:01.695 +03:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-07-28 01:24:01.696 +03:30 [INF] AuthenticationScheme: Bearer was forbidden.
2023-07-28 01:24:01.697 +03:30 [DBG] Connection id "0HMSETFU04GOF" completed keep alive response.
2023-07-28 01:24:01.697 +03:30 [INF] Request finished HTTP/1.1 GET https://localhost:7122/api/products application/json 54 - 403 0 - 117.9390ms
2023-07-28 01:24:01.697 +03:30 [DBG] Connection id "0HMSETFU04GOF", Request id "0HMSETFU04GOF:00000002": started reading request body.
2023-07-28 01:24:01.697 +03:30 [DBG] Connection id "0HMSETFU04GOF", Request id "0HMSETFU04GOF:00000002": done reading request body.
2023-07-28 01:26:11.856 +03:30 [DBG] Connection id "0HMSETFU04GOD" is closing.
2023-07-28 01:26:11.857 +03:30 [DBG] Connection id "0HMSETFU04GOF" disconnecting.
2023-07-28 01:26:11.859 +03:30 [DBG] Connection id "0HMSETFU04GOF" stopped.
2023-07-28 01:26:11.859 +03:30 [DBG] Connection id "0HMSETFU04GOF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-07-28 01:26:11.867 +03:30 [DBG] Connection id "0HMSETFU04GOD" is closed. The last processed stream ID was 7.
2023-07-28 01:26:11.868 +03:30 [DBG] Connection id "0HMSETFU04GOD" received FIN.
2023-07-28 01:26:11.868 +03:30 [DBG] Connection id "0HMSETFU04GOD" sending FIN because: "The client closed the connection."
2023-07-28 01:26:11.869 +03:30 [DBG] Connection id "0HMSETFU04GOD" stopped.
2023-07-28 01:27:03.991 +03:30 [DBG] Connection id "0HMSETFU04GOG" accepted.
2023-07-28 01:27:03.991 +03:30 [DBG] Connection id "0HMSETFU04GOG" started.
2023-07-28 01:27:03.995 +03:30 [DBG] Connection 0HMSETFU04GOG established using the following protocol: "Tls13"
2023-07-28 01:27:03.996 +03:30 [INF] Request starting HTTP/2 POST https://localhost:7122/api/auth application/json-patch+json 50
2023-07-28 01:27:03.998 +03:30 [DBG] 1 candidate(s) found for the request path '/api/auth'
2023-07-28 01:27:03.998 +03:30 [DBG] Endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)' with route pattern 'api/auth' is valid for the request path '/api/auth'
2023-07-28 01:27:03.998 +03:30 [DBG] Request matched endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:27:03.998 +03:30 [DBG] Static files was skipped as the request already matched an endpoint.
2023-07-28 01:27:04.001 +03:30 [DBG] The request has an origin header: 'https://localhost:7122'.
2023-07-28 01:27:04.001 +03:30 [INF] CORS policy execution successful.
2023-07-28 01:27:04.004 +03:30 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-07-28 01:27:04.005 +03:30 [INF] Executing endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:27:04.050 +03:30 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.String]] Authenticate(API_Project.Models.Dto.AuthenticationBodyDTO) on controller API_Project.Controllers.AuthenticationController (API Project).
2023-07-28 01:27:04.052 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-28 01:27:04.059 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-28 01:27:04.059 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-28 01:27:04.059 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-28 01:27:04.059 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-28 01:27:04.060 +03:30 [DBG] Executing controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:27:04.223 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-28 01:27:04.251 +03:30 [DBG] Executed controller factory for controller API_Project.Controllers.AuthenticationController (API Project)
2023-07-28 01:27:04.255 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:27:04.258 +03:30 [DBG] Attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' using the name '' in request data ...
2023-07-28 01:27:04.258 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-07-28 01:27:04.258 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-07-28 01:27:04.263 +03:30 [DBG] Connection id "0HMSETFU04GOG", Request id "0HMSETFU04GOG:00000001": started reading request body.
2023-07-28 01:27:04.264 +03:30 [DBG] Connection id "0HMSETFU04GOG", Request id "0HMSETFU04GOG:00000001": done reading request body.
2023-07-28 01:27:04.394 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:27:04.394 +03:30 [DBG] Done attempting to bind parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:27:04.394 +03:30 [DBG] Attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO' ...
2023-07-28 01:27:04.406 +03:30 [DBG] Done attempting to validate the bound parameter 'AuthenticationBody' of type 'API_Project.Models.Dto.AuthenticationBodyDTO'.
2023-07-28 01:27:05.548 +03:30 [INF] Entity Framework Core 6.0.20 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.8+e68dfe8b5cbe4a26d20acc36def6187aa1cfdda3' with options: None
2023-07-28 01:27:05.604 +03:30 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(x => x.UserName == __userName_0)'
2023-07-28 01:27:05.873 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.Email (string) Required, 1], [Property: User.HashedPassword (string) Required, 2], [Property: User.Name (string) Required, 3], [Property: User.PhoneNumber (string) Required, 4], [Property: User.Role (string) Required, 5], [Property: User.UserName (string) Required, 6] }
            SELECT TOP(2) u.Id, u.Email, u.HashedPassword, u.Name, u.PhoneNumber, u.Role, u.UserName
            FROM Users AS u
            WHERE u.UserName == @__userName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        API_Project.Data.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-28 01:27:05.927 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-28 01:27:05.962 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (35ms).
2023-07-28 01:27:05.971 +03:30 [DBG] Opening connection to database 'Test_db' on server ''.
2023-07-28 01:27:06.213 +03:30 [DBG] Opened connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:27:06.228 +03:30 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:27:06.347 +03:30 [INF] Executed DbCommand (122ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."HashedPassword", u."Name", u."PhoneNumber", u."Role", u."UserName"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 2
2023-07-28 01:27:06.364 +03:30 [DBG] A data reader was disposed.
2023-07-28 01:27:06.370 +03:30 [DBG] Closing connection to database 'Test_db' on server 'tcp://localhost:5432'.
2023-07-28 01:27:06.374 +03:30 [DBG] Closed connection to database 'Test_db' on server ''.
2023-07-28 01:27:06.380 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-07-28 01:27:06.383 +03:30 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-07-28 01:27:06.383 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-07-28 01:27:06.384 +03:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2023-07-28 01:27:06.393 +03:30 [INF] Executed action API_Project.Controllers.AuthenticationController.Authenticate (API Project) in 2326.4464ms
2023-07-28 01:27:06.395 +03:30 [INF] Executed endpoint 'API_Project.Controllers.AuthenticationController.Authenticate (API Project)'
2023-07-28 01:27:06.400 +03:30 [DBG] 'ApplicationDbContext' disposed.
2023-07-28 01:27:06.404 +03:30 [INF] Request finished HTTP/2 POST https://localhost:7122/api/auth application/json-patch+json 50 - 401 - text/plain;+charset=utf-8 2407.2805ms
2023-07-28 01:29:19.284 +03:30 [DBG] Connection id "0HMSETFU04GOG" is closing.
2023-07-28 01:29:19.284 +03:30 [DBG] Connection id "0HMSETFU04GOG" is closed. The last processed stream ID was 1.
2023-07-28 01:29:19.285 +03:30 [DBG] Connection id "0HMSETFU04GOG" received FIN.
2023-07-28 01:29:19.286 +03:30 [DBG] Connection id "0HMSETFU04GOG" stopped.
2023-07-28 01:29:19.286 +03:30 [DBG] Connection id "0HMSETFU04GOG" sending FIN because: "The Socket transport's send loop completed gracefully."
